(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{397:function(t,s,a){"use strict";a.r(s);var e=a(7),r=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("相关视频：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://t.zsxq.com/04nun2RRz",target:"_blank",rel:"noopener noreferrer"}},[t._v("02、如何实现动态的流程表单？"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/04uneeaUb",target:"_blank",rel:"noopener noreferrer"}},[t._v("03、如何实现流程表单的保存？"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/04jiMrjAm",target:"_blank",rel:"noopener noreferrer"}},[t._v("04、如何实现流程表单的展示？"),s("OutboundLink")],1)])])]),t._v(" "),s("p",[t._v("项目基于 Flowable 实现了工作流的功能，提供两种方式接入：")]),t._v(" "),s("ul",[s("li",[t._v("① 【流程表单】：在线配置动态表单，无需建表与开发")]),t._v(" "),s("li",[t._v("② 【业务表单】：业务需建立独立的数据库表，并开发对应的表单、详情界面")])]),t._v(" "),s("p",[t._v("我们以“请假流程”为例子，讲解两种接入方式的差异，整个过程包括：")]),t._v(" "),s("ol",[s("li",[t._v("定义流程：【管理员】新建流程、设计流程模型、并设置用户任务的审批人，最终发布流程")]),t._v(" "),s("li",[t._v("发起流程：【员工】选择流程，并发起流程实例")]),t._v(" "),s("li",[t._v("审批流程：【审批人】接收到流程任务，审批结果为通过或不通过")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E7%A4%BA%E4%BE%8B%E6%B5%81%E7%A8%8B.png",alt:"示例流程"}})]),t._v(" "),s("p",[t._v("本文，我们讲解的是「业务接入（流程表单）」的流程，复杂业务接入的流程请查看"),s("a",{attrs:{href:"/bpm/use-business-form"}},[t._v("业务接入（业务表单）")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"_1-业务接入-流程表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-业务接入-流程表单"}},[t._v("#")]),t._v(" 1. 业务接入（流程表单）")]),t._v(" "),s("h3",{attrs:{id:"_1-1-第一步-定义流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-第一步-定义流程"}},[t._v("#")]),t._v(" 1.1 第一步：定义流程")]),t._v(" "),s("p",[t._v("登录账号 admin、密码 admin123 的用户，扮演【管理员】的角色，进行流程的定义。")]),t._v(" "),s("h4",{attrs:{id:"_1-1-1-新建流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-新建流程"}},[t._v("#")]),t._v(" 1.1.1 新建流程")]),t._v(" "),s("p",[t._v("访问 [工作流程 -> 流程管理 -> 流程模型] 菜单，点击「新建流程」按钮，填写流程标识、流程名称。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%96%B0%E5%BB%BA%E6%B5%81%E7%A8%8B.png",alt:"新建流程"}})]),t._v(" "),s("ul",[s("li",[t._v("流程标识：对应 BPMN 流程文件 XML 的 "),s("code",[t._v("id")]),t._v(" 属性，不能重复，新建后不可修改。")]),t._v(" "),s("li",[t._v("流程名称：对应 BPMN 流程文件 XML 的 "),s("code",[t._v("name")]),t._v(" 属性。")])]),t._v(" "),s("div",{staticClass:"language-XML extra-class"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 这是一个 BPMN XML 的示例，主要看 id 和 name 属性 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="UTF-8"?>')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmn2:")]),t._v("definitions")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("xsi")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.w3.org/2001/XMLSchema-instance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("bpmn2")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.omg.org/spec/BPMN/20100524/MODEL"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("xmlns:")]),t._v("bpmndi")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://www.omg.org/spec/BPMN/20100524/DI"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("diagram_Process_1647305370393"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("targetNamespace")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("http://activiti.org/bpmn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmn2:")]),t._v("process")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("common-form"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("通用表单流程"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("isExecutable")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("true"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmndi:")]),t._v("BPMNDiagram")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("BPMNDiagram_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmndi:")]),t._v("BPMNPlane")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("common-form_di"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bpmnElement")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("common-form"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmndi:")]),t._v("BPMNDiagram")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("bpmn2:")]),t._v("definitions")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("h4",{attrs:{id:"_1-1-2-新建表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-新建表单"}},[t._v("#")]),t._v(" 1.1.2 新建表单")]),t._v(" "),s("p",[t._v("① 访问 [工作流程 -> 流程管理 -> 流程表单] 菜单，点击「新增」按钮，新增一个名字为 "),s("code",[t._v("leave-form")]),t._v(" 的表单。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%96%B0%E5%BB%BA%E8%A1%A8%E5%8D%95-%E8%AE%BE%E8%AE%A1.png",alt:"新建表单 - 设计"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%96%B0%E5%BB%BA%E8%A1%A8%E5%8D%95-%E4%BF%9D%E5%AD%98.png",alt:"新建表单 - 保存"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：如果感觉有点麻烦，随便设计下，保存就 OK 了。")])]),t._v(" "),s("p",[t._v("② 回到 [工作流程 -> 流程管理 -> 流程模型] 菜单，点击「修改流程」按钮，配置表单类型为流程表单，选择名字为 "),s("code",[t._v("leave-form")]),t._v(" 的流程表单。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E4%BF%AE%E6%94%B9%E6%B5%81%E7%A8%8B%E8%A1%A8%E5%8D%95.png",alt:"修改流程表单"}})]),t._v(" "),s("h4",{attrs:{id:"_1-1-3-设计流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-设计流程"}},[t._v("#")]),t._v(" 1.1.3 设计流程")]),t._v(" "),s("p",[t._v("① 点击「设计流程」按钮，在线设计请假流程模型，包含两个用户任务：领导审批、HR 审批。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%AE%BE%E8%AE%A1%E6%B5%81%E7%A8%8B%E5%9B%BE.png",alt:"设计流程"}})]),t._v(" "),s("p",[t._v("② 点击图中的“部门领导审批”，规则类型为“流程表达式”，流程表达式为 "),s("code",[t._v("${bpmTaskAssignLeaderExpression.calculateUsers(execution, 1)}")]),t._v("。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%AE%BE%E7%BD%AE%E5%AE%A1%E6%89%B9%E4%BA%BA-%E9%83%A8%E9%97%A8%E9%A2%86%E5%AF%BC%E5%AE%A1%E6%89%B9.png",alt:"设置审批人 - 部门领导审批"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：该流程表达式的作用是，流程发起人的一级领导。")]),t._v(" "),s("p",[t._v("为什么呢？这块我们在 "),s("RouterLink",{attrs:{to:"/bpm/expression/"}},[t._v("《流程表达式》")]),t._v(" 详细讲解。")],1)]),t._v(" "),s("p",[t._v("点击图中的“HR 审批”，规则类型为“岗位”，指定岗位为“人力资源”。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%AE%BE%E7%BD%AE%E5%AE%A1%E6%89%B9%E4%BA%BA-HR%E5%AE%A1%E6%89%B9.png",alt:"设置审批人 - HR 审批"}})]),t._v(" "),s("p",[t._v("之后，点击右上角的「保存模型」按钮，完成流程模型的设计。")]),t._v(" "),s("p",[t._v("③ 点击「发布流程」按钮，把定义的流程模型部署出去。部署成功后，就可以发起该流程了。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E5%8F%91%E5%B8%83%E6%B5%81%E7%A8%8B.png",alt:"发布流程"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("修改流程后，需要重新发布流程吗？")]),t._v(" "),s("p",[t._v("需要，"),s("strong",[t._v("必须重新发布")]),t._v("才能生效。每次流程发布后，会生成一个新的流程定义，版本号从 v1 开始递增。")]),t._v(" "),s("p",[t._v("发布成功后，会部署新版本的流程定义，旧版本的流程定义将被挂起。当然，已经发起的流程不会受到影响，还是走老的流程定义。")])]),t._v(" "),s("h3",{attrs:{id:"_2-第二步-发起流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-发起流程"}},[t._v("#")]),t._v(" 2. 第二步：发起流程")]),t._v(" "),s("p",[t._v("登录账号 admin、密码 admin123 的用户，扮演【员工】的角色，进行流程的发起。")]),t._v(" "),s("h4",{attrs:{id:"_2-1-发起流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-发起流程"}},[t._v("#")]),t._v(" 2.1 发起流程")]),t._v(" "),s("p",[t._v("① 访问 [工作流程 -> 审批中心 -> 发起流程] 菜单，可以看到可以选择的流程定义的列表。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E5%8F%91%E8%B5%B7%E6%B5%81%E7%A8%8B.png",alt:"发起流程"}})]),t._v(" "),s("p",[t._v("② 选择名字为“通用表单”的流程定义，发起请假流程。填写请假表单信息如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E5%A1%AB%E5%86%99%E6%B5%81%E7%A8%8B%E4%BF%A1%E6%81%AF.png",alt:"填写流程信息"}})]),t._v(" "),s("p",[t._v("③ 点击提交成功后，可在 [工作流程 -> 审批中心 -> 我的流程]中，可看到该流程的状态、结果。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%88%91%E7%9A%84%E6%B5%81%E7%A8%8B.png",alt:"我的流程"}})]),t._v(" "),s("h4",{attrs:{id:"_2-2-查看流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-查看流程"}},[t._v("#")]),t._v(" 2.2 查看流程")]),t._v(" "),s("p",[t._v("点击「详情」按钮，可以查看申请的表单信息、审批记录、流程跟踪图。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%B5%81%E7%A8%8B%E8%AF%A6%E6%83%851.png",alt:"流程详情 1"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%B5%81%E7%A8%8B%E8%AF%A6%E6%83%852.png",alt:"流程详情 2"}})]),t._v(" "),s("h3",{attrs:{id:"_3-第三步-审批流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三步-审批流程"}},[t._v("#")]),t._v(" 3. 第三步：审批流程")]),t._v(" "),s("h4",{attrs:{id:"_3-1-部门领导审批"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-部门领导审批"}},[t._v("#")]),t._v(" 3.1 部门领导审批")]),t._v(" "),s("p",[t._v("登录账号 test、密码 test123 的用户，扮演【审批人】的角色，进行请假流程的【领导审批】任务。")]),t._v(" "),s("p",[t._v("① 访问 [工作流程 -> 审批中心 -> 待办任务] 菜单，可以查询到需要审批的任务。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E5%BE%85%E5%8A%9E%E4%BB%BB%E5%8A%A1.png",alt:"待办任务"}})]),t._v(" "),s("p",[t._v("② 点击「办理」按钮，填写审批建议，并点击「通过」按钮，这样任务的审批就完成了。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E9%83%A8%E9%97%A8%E9%A2%86%E5%AF%BC%E5%AE%A1%E6%89%B9.png",alt:"部门领导审批"}})]),t._v(" "),s("p",[t._v("③ 访问 [工作流程 -> 审批中心 -> 已办任务] 菜单，可以查询到已经审批的任务。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E5%B7%B2%E5%8A%9E%E4%BB%BB%E5%8A%A1.png",alt:"已办任务"}})]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("此时，使用【员工】的角色，访问 [工作流程 -> 审批中心 -> 我的流程] 菜单，可以看到流程流转到了【HR 审批】任务。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E9%83%A8%E9%97%A8%E9%A2%86%E5%AF%BC%E5%AE%A1%E6%89%B9%E5%90%8E%E6%88%91%E7%9A%84%E6%B5%81%E7%A8%8B.png",alt:"部门领导审批后我的流程"}})]),t._v(" "),s("h4",{attrs:{id:"_3-2-hr-审批"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-hr-审批"}},[t._v("#")]),t._v(" 3.2 HR 审批")]),t._v(" "),s("p",[t._v("登录账号 hrmgr、密码 hr123 的用户，扮演【审批人】的角色，进行请假流程的【HR 审批】任务。")]),t._v(" "),s("p",[t._v("① 访问 [工作流程 -> 审批中心 -> 待办任务] 菜单，点击「审批」按钮，填写审批建议，并点击「通过」按钮。")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("此时，使用【员工】的角色，访问 [工作流程 -> 审批中心 -> 我的流程] 菜单，可以看到流程处理结束，最终审批通过。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%AF%B7%E5%81%87%E6%B5%81%E7%A8%8B%E6%9C%80%E7%BB%88%E7%8A%B6%E6%80%81.png",alt:"请假流程最终状态"}})]),t._v(" "),s("h2",{attrs:{id:"_2-菜单【流程表单】"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-菜单【流程表单】"}},[t._v("#")]),t._v(" 2. 菜单【流程表单】")]),t._v(" "),s("p",[t._v("本小节，我们单独讲解的是菜单 [工作流程 -> 流程管理 -> 流程表单] 的功能。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%B5%81%E7%A8%8B%E8%A1%A8%E5%8D%95.png",alt:"流程表单"}})]),t._v(" "),s("p",[t._v("该菜单主要用于流程表单的配置，不包括最终表单填写后的存储，由 BpmFormController 提供接口。")]),t._v(" "),s("h3",{attrs:{id:"_2-1-表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-表结构"}},[t._v("#")]),t._v(" 2.1 表结构")]),t._v(" "),s("blockquote",[s("p",[t._v("省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段")])]),t._v(" "),s("div",{staticClass:"language-SQL extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("bpm_form"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bigint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'编号'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_unicode_ci "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'表单名'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tinyint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'开启状态'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_unicode_ci "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'表单的配置'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("fields"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_unicode_ci "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'表单项的数组'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("remark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_unicode_ci "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'备注'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USING")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BTREE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4_unicode_ci "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'BPM 表单定义表'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("关键就 2 个字段：")]),t._v(" "),s("p",[t._v("① "),s("code",[t._v("conf")]),t._v("：表单的配置，是一个 JSON 字符串，包含表单的基本配置、按钮等。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"form"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"labelPosition"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"right"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"size"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"default"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"labelWidth"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"125px"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hideRequiredAsterisk"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"showMessage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"inlineMessage"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"submitBtn"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"show"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"innerText"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"提交"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"resetBtn"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"show"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"innerText"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"重置"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("对应表单设计器的【表单配置】部分。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%A1%A8%E5%8D%95%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E8%A1%A8%E5%8D%95%E9%85%8D%E7%BD%AE.png",alt:"表单配置"}})]),t._v(" "),s("p",[t._v("② "),s("code",[t._v("fields")]),t._v("：表单项的数组，是一个 JSON 字符串，包含表单的所有字段。")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"type\\":\\"datePicker\\",\\"field\\":\\"startTime\\",\\"title\\":\\"开始时间\\",\\"info\\":\\"\\",\\"$required\\":true,\\"_fc_drag_tag\\":\\"datePicker\\",\\"hidden\\":false,\\"display\\":true}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"type\\":\\"datePicker\\",\\"field\\":\\"Fm9i1onr8v6n68\\",\\"title\\":\\"结束时间\\",\\"info\\":\\"\\",\\"$required\\":true,\\"_fc_drag_tag\\":\\"datePicker\\",\\"hidden\\":false,\\"display\\":true}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"type\\":\\"select\\",\\"field\\":\\"type\\",\\"title\\":\\"请假类型\\",\\"info\\":\\"\\",\\"effect\\":{\\"fetch\\":\\"\\"},\\"$required\\":false,\\"options\\":[{\\"label\\":\\"事假\\",\\"value\\":1},{\\"label\\":\\"年假\\",\\"value\\":2}],\\"_fc_drag_tag\\":\\"select\\",\\"hidden\\":false,\\"display\\":true}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"{\\"type\\":\\"input\\",\\"field\\":\\"reason\\",\\"title\\":\\"请假原因\\",\\"info\\":\\"\\",\\"$required\\":false,\\"props\\":{\\"rows\\":0,\\"type\\":\\"textarea\\"},\\"_fc_drag_tag\\":\\"input\\",\\"hidden\\":false,\\"display\\":true}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),s("p",[t._v("对应表单设计器的【组件配置】部分。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%A1%A8%E5%8D%95%E8%AE%BE%E8%AE%A1%E5%99%A8%E7%9A%84%E7%BB%84%E4%BB%B6%E9%85%8D%E7%BD%AE.png",alt:"组件配置"}})]),t._v(" "),s("h3",{attrs:{id:"_2-2-前端组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-前端组件"}},[t._v("#")]),t._v(" 2.2 前端组件")]),t._v(" "),s("p",[t._v("基于 "),s("a",{attrs:{href:"https://github.com/xaboy/form-create",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/xaboy/form-create"),s("OutboundLink")],1),t._v(" 实现，支持 element-plus、ant-design-vue、naive-ui、arco-design、tdesign 等前端组件，还是非常不错的！")]),t._v(" "),s("p",[t._v("中文文档："),s("a",{attrs:{href:"https://www.form-create.com/v3/guide/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.form-create.com/v3/guide/"),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"_2-2-1-表单设计器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-表单设计器"}},[t._v("#")]),t._v(" 2.2.1 表单设计器")]),t._v(" "),s("p",[t._v("上文看到的“表单设计器”，在 "),s("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/views/bpm/form/editor/index.vue",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("bpm/form/editor/index.vue")]),s("OutboundLink")],1),t._v(" 实现，使用 "),s("a",{attrs:{href:"https://github.com/xaboy/form-create-designer",target:"_blank",rel:"noopener noreferrer"}},[t._v("form-create-designer"),s("OutboundLink")],1),t._v(" 实现。")]),t._v(" "),s("h4",{attrs:{id:"_2-2-2-表单预览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-表单预览"}},[t._v("#")]),t._v(" 2.2.2 表单预览")]),t._v(" "),s("p",[t._v("点击「详情」按钮，可进行表单的预览，如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%A1%A8%E5%8D%95%E9%A2%84%E8%A7%88.png",alt:"表单预览"}})]),t._v(" "),s("p",[t._v("实现的逻辑，就是读取后端 "),s("code",[t._v("bpm_form")]),t._v(" 表的 "),s("code",[t._v("conf")]),t._v(" 和 "),s("code",[t._v("fields")]),t._v(" 字段，然后使用 "),s("code",[t._v("form-create")]),t._v(" 渲染。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%A1%A8%E5%8D%95%E9%A2%84%E8%A7%88%E7%9A%84%E4%BB%A3%E7%A0%81.png",alt:"表单预览的代码"}})]),t._v(" "),s("h4",{attrs:{id:"_2-2-3-表单填写"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-表单填写"}},[t._v("#")]),t._v(" 2.2.3 表单填写")]),t._v(" "),s("p",[t._v("在 [工作流程 -> 审批中心 -> 发起流程] 菜单，点击「填写表单」按钮，可以填写表单。它也是基于 "),s("code",[t._v("form-create")]),t._v(" 实现的，只是额外实现了 "),s("code",[t._v("@submit")]),t._v(" 事件，用于提交表单。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E8%A1%A8%E5%8D%95%E5%A1%AB%E5%86%99%E7%9A%84%E4%BB%A3%E7%A0%81.png",alt:"表单填写的代码"}})]),t._v(" "),s("p",[t._v("相比表单预览，它通过 "),s("code",[t._v("v-model")]),t._v(" 获取表单的值，可通过 "),s("code",[t._v("v-model:api")]),t._v(" 对应的 "),s("code",[t._v("fApi")]),t._v(" 对象，进行表单的校验、重置等操作。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提问：使用流程表单时，提交的表单数据是怎么存储的？")]),t._v(" "),s("p",[t._v("存储到 Flowable 的 ProcessInstance 的 "),s("code",[t._v("variables")]),t._v(" 中。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%B7%A5%E4%BD%9C%E6%B5%81%E6%89%8B%E5%86%8C/%E7%AE%80%E5%8D%95%E4%B8%9A%E5%8A%A1%E6%8E%A5%E5%85%A5/%E6%B5%81%E7%A8%8B%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8.png",alt:"流程表单数据存储"}})])]),t._v(" "),s("h2",{attrs:{id:"_666-常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_666-常见问题"}},[t._v("#")]),t._v(" 666. 常见问题？")]),t._v(" "),s("p",[t._v("① 流程中表单里面的附件上传，除了 pdf 这几种格式，可以支持别的格式的附件吗？")]),t._v(" "),s("p",[t._v("回答："),s("a",{attrs:{href:"https://t.zsxq.com/bKzyd",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/bKzyd"),s("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=r.exports}}]);