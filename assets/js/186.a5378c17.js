(window.webpackJsonp=window.webpackJsonp||[]).push([[186],{515:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("本小节，讲解如何将前端 + 后端项目，"),s("strong",[t._v("使用 Shell 脚本")]),t._v("，部署到 dev 开发环境下的一台 Linux 服务器上。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/01.png",alt:"Linux 部署"}})]),t._v(" "),s("h2",{attrs:{id:"_1-环境准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-环境准备"}},[t._v("#")]),t._v(" 1. 环境准备")]),t._v(" "),s("p",[t._v("需要安装如下环境：")]),t._v(" "),s("ul",[s("li",[t._v("MySQL：数据库")]),t._v(" "),s("li",[t._v("Redis：缓存")]),t._v(" "),s("li",[t._v("JDK：后端运行环境")]),t._v(" "),s("li",[t._v("Nginx：负载均衡")])]),t._v(" "),s("h3",{attrs:{id:"_1-1-安装-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-安装-mysql"}},[t._v("#")]),t._v(" 1.1 安装 MySQL")]),t._v(" "),s("p",[t._v("需要安装 MySQL，并导入 SQL 脚本。")]),t._v(" "),s("h4",{attrs:{id:"第一步-安装-mysql-可选"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-安装-mysql-可选"}},[t._v("#")]),t._v(" 第一步，安装 MySQL（可选）")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：安装 MySQL 是可选步骤，也可以购买 MySQL 云服务。")])]),t._v(" "),s("p",[t._v("① 执行如下命令，进行 MySQL 的安装。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ① 在 CentOS 9 下，安装 MySQL 8.4 版本的软件源 https://dev.mysql.com/downloads/repo/yum/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Uvh")]),t._v(" https://repo.mysql.com//mysql84-community-release-el9-1.noarch.rpm\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ② 安装 MySQL Server 8.4 版本")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" mysql-server "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--nogpgcheck")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ③ 查看 MySQL 的安装版本。结果是 /usr/sbin/mysqld  Ver 8.4.2 for Linux on x86_64 (MySQL Community Server - GPL)")]),t._v("\nmysqld "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n")])])]),s("p",[t._v("② 修改 "),s("code",[t._v("/etc/my.cnf")]),t._v(" 文件，在文末加上 "),s("code",[t._v("lower_case_table_names=1")]),t._v(" 配置，执行 "),s("code",[t._v("systemctl restart mysqld")]),t._v(" 命令重启。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("踩坑提示：")]),t._v(" "),s("p",[t._v("为什么 MySQL 启动后，后续无法修改 "),s("code",[t._v("lower_case_table_names=1")]),t._v(" 呢？")]),t._v(" "),s("p",[t._v("原因和解决，参考 "),s("a",{attrs:{href:"https://www.cnblogs.com/niceyoo/p/11545196.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://www.cnblogs.com/niceyoo/p/11545196.html"),s("OutboundLink")],1),t._v(" 博客！")])]),t._v(" "),s("p",[t._v("③ 执行 "),s("code",[t._v("grep password /var/log/mysqld.log")]),t._v(" 命令，获得 MySQL 临时密码。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2024")]),t._v("-09-26T01:51:44.277843Z "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Note"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("MY-010454"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Server"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" A temporary password is generated "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" root@localhost: iLXXg3.tje"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n")])])]),s("p",[t._v("④ 执行如下命令，修改 MySQL 的密码，设置允许远程连接。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ① 连接 MySQL Server 服务，并输入临时密码")]),t._v("\nmysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-uroot")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ② 修改密码，3WLiVUBEwTbvAfsh. 可改成你想要的密码")]),t._v("\nalter user "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v("@"),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),t._v(" identified by "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3WLiVUBEwTbvAfsh.'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ③ 设置允许远程连接")]),t._v("\nuse mysql"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nupdate user "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("host")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%'")]),t._v(" where user "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nFLUSH PRIVILEGES"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h4",{attrs:{id:"第二步-导入-sql-脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步-导入-sql-脚本"}},[t._v("#")]),t._v(" 第二步，导入 SQL 脚本")]),t._v(" "),s("p",[t._v("创建一个名字为 "),s("code",[t._v("ruoyi-vue-pro")]),t._v(" 数据库，执行数据库对应的 "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/tree/master/sql",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("sql")]),s("OutboundLink")],1),t._v(" 目录下的 SQL 文件，进行初始化。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Docker%E9%83%A8%E7%BD%B2/02.png",alt:"使用 Navicat 导入 SQL 脚本"}})]),t._v(" "),s("h3",{attrs:{id:"_1-2-安装-redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-安装-redis"}},[t._v("#")]),t._v(" 1.2 安装 Redis")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：安装 Redis 是可选步骤，也可以购买 Redis 云服务。")])]),t._v(" "),s("p",[t._v("执行如下命令，进行 Redis 的安装。")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ① 安装 Redis")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" redis \n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ② 查看 Redis 的安装版本。结果是 Redis server v=6.2.7 sha=00000000:0 malloc=jemalloc-5.1.0 bits=64 build=ec192bdd77ecd321")]),t._v("\nredis-server "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--version")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## ④ 启动 Redis 服务")]),t._v("\nsystemctl restart redis\n")])])]),s("ul",[s("li",[t._v("端口是 6379，密码未设置")])]),t._v(" "),s("h3",{attrs:{id:"_1-3-安装-jdk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-安装-jdk"}},[t._v("#")]),t._v(" 1.3 安装 JDK")]),t._v(" "),s("p",[t._v("执行 "),s("code",[t._v("yum install -y java-1.8.0-openjdk")]),t._v(" 命令，安装 OpenJDK "),s("strong",[t._v("8")]),t._v("。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：如果已经安装 JDK，可不安装。建议使用的 JDK 版本为 8、11、17 这三个。")])]),t._v(" "),s("h3",{attrs:{id:"_1-4-安装-nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-安装-nginx"}},[t._v("#")]),t._v(" 1.4 安装 Nginx")]),t._v(" "),s("p",[t._v("参考 "),s("a",{attrs:{href:"https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Nginx 官方文档"),s("OutboundLink")],1),t._v("，安装 Nginx 服务。命令如下：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 添加 yum 源")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" epel-release\nyum update\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 安装 nginx")]),t._v("\nyum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 启动 nginx ")]),t._v("\nnginx\n")])])]),s("p",[t._v("Nginx 默认配置文件是 "),s("code",[t._v("/etc/nginx/nginx.conf")]),t._v("。")]),t._v(" "),s("h2",{attrs:{id:"_2-部署后端服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署后端服务"}},[t._v("#")]),t._v(" 2. 部署后端服务")]),t._v(" "),s("h4",{attrs:{id:"第一步-修改配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改配置"}},[t._v("#")]),t._v(" 第一步，修改配置")]),t._v(" "),s("p",[t._v("后端 dev 开发环境对应的是 "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-server/src/main/resources/application-dev.yaml",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("application-dev.yaml")]),s("OutboundLink")],1),t._v(" 配置文件，主要是修改 MySQL 和 Redis 为你的地址。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/03.png",alt:" 配置文件"}})]),t._v(" "),s("h4",{attrs:{id:"第二步-编译后端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步-编译后端"}},[t._v("#")]),t._v(" 第二步，编译后端")]),t._v(" "),s("p",[t._v("在项目的根目录下，执行 "),s("code",[t._v("mvn clean package -Dmaven.test.skip=true")]),t._v(" 命令，编译后端项目，构建出它的 Jar 包。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/02.png",alt:"编译后端"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：-Dmaven.test.skip=true 是什么意思？")]),t._v(" "),s("p",[t._v("跳过单元测试的执行。如果你项目的单元测试写的不错，建议使用 "),s("code",[t._v("mvn clean package")]),t._v(" 命令，执行单元测试，保证交付的质量。")])]),t._v(" "),s("h4",{attrs:{id:"第三步-上传-jar-包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三步-上传-jar-包"}},[t._v("#")]),t._v(" 第三步，上传 Jar 包")]),t._v(" "),s("p",[t._v("在 Linux 服务器上创建 "),s("code",[t._v("/work/projects/yudao-server")]),t._v(" 目录，使用 "),s("code",[t._v("scp")]),t._v(" 命令或者 FTP 工具，将 "),s("code",[t._v("yudao-server.jar")]),t._v(" 上传到该目录下。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/04.png",alt:"上传 Jar 包"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("疑问：如果构建 War 包，部署到 Tomcat 下？")]),t._v(" "),s("p",[t._v("并不推荐采用 War 包部署到 Tomcat 下。如果真的需要，可以参考 "),s("a",{attrs:{href:"https://www.baeldung.com/spring-boot-war-tomcat-deploy",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Deploy a Spring Boot WAR into a Tomcat Server》"),s("OutboundLink")],1),t._v(" 文章。")])]),t._v(" "),s("h4",{attrs:{id:"第四步-编写脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第四步-编写脚本"}},[t._v("#")]),t._v(" 第四步，编写脚本")]),t._v(" "),s("p",[t._v("在 "),s("code",[t._v("/work/projects/yudao-server")]),t._v(" 目录下，新建 Shell 脚本 "),s("code",[t._v("deploy.sh")]),t._v("，用于启动后端项目。编写内容如下：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token shebang important"}},[t._v("#!/bin/bash")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("DATE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("date")]),t._v(" +%Y%m%d%H%M"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 基础路径")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("BASE_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/work/projects/yudao-server\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 服务名称。同时约定部署服务的 jar 包名字也为它。")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("SERVER_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("yudao-server\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 环境")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PROFILES_ACTIVE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dev\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# heapError 存放路径")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("HEAP_ERROR_PATH")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/heapError\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# JVM 参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("JAVA_OPS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-Xms512m -Xmx512m -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath='),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$HEAP_ERROR_PATH")]),t._v('"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# SkyWalking Agent 配置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#export SW_AGENT_NAME=$SERVER_NAME")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#export SW_AGENT_COLLECTOR_BACKEND_SERVICES=192.168.0.84:11800")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#export SW_GRPC_LOG_SERVER_HOST=192.168.0.84")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v('#export SW_AGENT_TRACE_IGNORE_PATH="Redisson/PING,/actuator/**,/admin/**"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#export JAVA_AGENT=-javaagent:/work/skywalking/apache-skywalking-apm-bin/agent/skywalking-agent.jar")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止：优雅关闭之前已经启动的服务")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("stop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[stop] 开始停止 '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v('"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" $BASE_PATH/$SERVER_NAME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grep"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $2}'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果 Java 服务启动中，则进行关闭")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 正常关闭")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[stop] '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v(" 运行中，开始 kill ["),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v(']"')]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-15")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 等待最大 120 秒，直到关闭完成。")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("((")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("))")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sleep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("PID")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" $BASE_PATH/$SERVER_NAME "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-v")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"grep"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("awk")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'{print $2}'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-e")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('".'),s("span",{pre:!0,attrs:{class:"token entity",title:"\\c"}},[t._v("\\c")]),t._v('"')]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'[stop] 停止 $BASE_PATH/$SERVER_NAME 成功'")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("break")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n\t\t    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果正常关闭失败，那么进行强制 kill -9 进行关闭")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-n")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v('"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[stop] '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v(" 失败，强制 kill -9 "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v('"')]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-9")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PID")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果 Java 服务未启动，则无需关闭")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[stop] '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v(' 未启动，无需停止"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动：启动后端项目")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("start")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开启启动前，打印启动参数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[start] 开始启动 '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v('"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[start] JAVA_OPS: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_OPS")]),t._v('"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[start] JAVA_AGENT: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_AGENT")]),t._v('"')]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[start] PROFILES: '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PROFILES_ACTIVE")]),t._v('"')]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开始启动")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nohup")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("java")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-server")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_OPS")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$JAVA_AGENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-jar")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v(".jar "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--spring.profiles.active")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$PROFILES_ACTIVE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" nohup.out "),s("span",{pre:!0,attrs:{class:"token operator"}},[s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("2")]),t._v(">")]),s("span",{pre:!0,attrs:{class:"token file-descriptor important"}},[t._v("&1")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[start] 启动 '),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("/"),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$SERVER_NAME")]),t._v(' 完成"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 部署")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-name function"}},[t._v("deploy")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$BASE_PATH")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 第一步：停止 Java 服务")]),t._v("\n    stop\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 第二步：启动 Java 服务")]),t._v("\n    start\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\ndeploy\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：")]),t._v(" "),s("p",[t._v("脚本的详细讲解，可见 "),s("a",{attrs:{href:"https://www.iocoder.cn/Jenkins/install/?yudao",target:"_blank",rel:"noopener noreferrer"}},[t._v("《芋道 Jenkins 极简入门 》"),s("OutboundLink")],1),t._v(" 的「2.3 远程服务器配置 」小节。")]),t._v(" "),s("p",[t._v("如果你想要修改脚本，主要关注 "),s("code",[t._v("BASE_PATH")]),t._v("、"),s("code",[t._v("PROFILES_ACTIVE")]),t._v("、"),s("code",[t._v("JAVA_OPS")]),t._v(" 三个参数。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/05.png",alt:"可修改参数"}})])]),t._v(" "),s("h4",{attrs:{id:"第五步-启动后端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第五步-启动后端"}},[t._v("#")]),t._v(" 第五步，启动后端")]),t._v(" "),s("p",[t._v("① 执行 "),s("code",[t._v("sh deploy.sh")]),t._v(" 命令，启动后端项目。日志如下：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("stop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 开始停止 /work/projects/yudao-server/yudao-server\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("stop"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" /work/projects/yudao-server/yudao-server 未启动，无需停止\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 开始启动 /work/projects/yudao-server/yudao-server\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" JAVA_OPS: "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Xms512m")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-Xmx512m")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-XX:+HeapDumpOnOutOfMemoryError")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-XX:HeapDumpPath")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("/work/projects/yudao-server/heapError\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" JAVA_AGENT:\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" PROFILES: dev\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("start"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" 启动 /work/projects/yudao-server/yudao-server 完成\n")])])]),s("p",[t._v("② 执行 "),s("code",[t._v("tail -f nohup.out")]),t._v(" 命令，查看启动日志。看到如下内容，说明启动完成：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2022")]),t._v("-04-13 00:06:20.049  INFO "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1395")]),t._v(" --- "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("main"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("TID: N/A"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" c.i.yudao.server.YudaoServerApplication  "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" Started YudaoServerApplication "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("35.315")]),t._v(" seconds "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("JVM running "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("36.282")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-部署前端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-部署前端"}},[t._v("#")]),t._v(" 3. 部署前端")]),t._v(" "),s("p",[t._v("项目的管理后台有 3 个版本（只需要看你的版本即可）：")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("yudao-ui-admin-vue3")]),t._v("：基于 Vue3 + element-plus")]),t._v(" "),s("li",[s("code",[t._v("yudao-ui-admin-vben")]),t._v("：基于 Vue3 + vben(ant-design-vue)")]),t._v(" "),s("li",[s("code",[t._v("yudao-ui-admin-vue2")]),t._v("：基于 Vue2 + element-ui")])]),t._v(" "),s("p",[t._v("注意，前端无法直接启动，而是需要通过 Nginx 转发读取前端构建出来的静态文件，最终都放在服务器上的 "),s("code",[t._v("/work/projects/yudao-ui-admin")]),t._v(" 目录下。")]),t._v(" "),s("h3",{attrs:{id:"_3-1-yudao-ui-admin-vue3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-yudao-ui-admin-vue3"}},[t._v("#")]),t._v(" 3.1 yudao-ui-admin-vue3")]),t._v(" "),s("p",[t._v("基于 Vue3 + element-plus")]),t._v(" "),s("h4",{attrs:{id:"第一步-修改配置-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改配置-2"}},[t._v("#")]),t._v(" 第一步，修改配置")]),t._v(" "),s("p",[t._v("前端 dev 开发环境对应的是 "),s("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/.env.dev#L6-L7",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v(".env.dev")]),s("OutboundLink")],1),t._v(" 配置文件，主要是修改 "),s("code",[t._v("VITE_BASE_URL")]),t._v(" 为你的后端项目的访问地址。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/ep-env.png",alt:" 配置文件"}})]),t._v(" "),s("h4",{attrs:{id:"第二步-编译前端"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步-编译前端"}},[t._v("#")]),t._v(" 第二步，编译前端")]),t._v(" "),s("p",[t._v("在前端项目的根目录下，执行 "),s("code",[t._v("npm run build:dev")]),t._v(" 命令，编译前端项目，构建出它的 "),s("code",[t._v("dist")]),t._v(" 文件，里面是 HTML、CSS、JavaScript 等静态文件。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/ep-%E7%BC%96%E8%AF%91.png",alt:"编译前端"}})]),t._v(" "),s("p",[t._v("如下想要打包其它环境，可使用如下命令：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:prod "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 打包 prod 生产环境")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:stage "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 打包 stage 预发布环境")]),t._v("\n")])])]),s("p",[t._v("如果是在服务器上构建，并且出现卡死的情况，可以参考 "),s("a",{attrs:{href:"https://t.zsxq.com/Quq1U",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/Quq1U"),s("OutboundLink")],1),t._v(" 或 "),s("a",{attrs:{href:"https://gitee.com/yudaocode/yudao-ui-admin-vue3/issues/IAU0T3",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/yudaocode/yudao-ui-admin-vue3/issues/IAU0T3"),s("OutboundLink")],1),t._v(" 解决")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("其它高级参数说明【可暂时不看】：")]),t._v(" "),s("p",[t._v("① "),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v("：前端打包的路径（静态资源的基础路径），一般默认为 "),s("code",[t._v("/")]),t._v(" 即可。目前有两种用法：")]),t._v(" "),s("p",[t._v("第一种，可用于二级目录部署。例如说，"),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v(" 设置为 "),s("code",[t._v("/demo")]),t._v(" 。然后 Nginx 配置时，需要特殊注意，如下所示：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("        location /demo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 1：不需要 / 结尾")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 2：二级路由时需要使用别名 alias，不用 root")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v("   /work/projects/yudao-ui-admin/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 3：需要 / 结尾")]),t._v("\n            index  index.html index.htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            try_files "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ /index.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("第二种，可用于七牛等 CDN 服务，读取前端的静态文件，提升访问速度，建议 prod 生产环境使用。例如说，我们演示环境的 "),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v(" 是 "),s("code",[t._v("http://static-vue3.yudao.iocoder.cn/")]),t._v(" 。")]),t._v(" "),s("p",[t._v("具体操作，可参考文章的 "),s("a",{attrs:{href:"https://blog.csdn.net/weixin_71403100/article/details/132037721",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Vue 项目使用七牛云 CDN 存放静态资源》"),s("OutboundLink")],1),t._v(" 的「二、实现方式 」部分，只是最终的“修改 index.html 中静态资源引用”，变成 "),s("code",[t._v("PUBLIC_PATH")]),t._v(" 修改即可。")])]),t._v(" "),s("h4",{attrs:{id:"第三步-上传-dist-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三步-上传-dist-文件"}},[t._v("#")]),t._v(" 第三步，上传 "),s("code",[t._v("dist")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("在 Linux 服务器上创建 "),s("code",[t._v("/work/projects/yudao-ui-admin")]),t._v(" 目录，使用 "),s("code",[t._v("scp")]),t._v(" 命令或者 FTP 工具，将 "),s("code",[t._v("dist")]),t._v(" 上传到该目录下。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/ep-dist.png",alt:"上传  文件"}})]),t._v(" "),s("h3",{attrs:{id:"_3-2-yudao-ui-admin-vben"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-yudao-ui-admin-vben"}},[t._v("#")]),t._v(" 3.2 yudao-ui-admin-vben")]),t._v(" "),s("p",[t._v("基于 Vue3 + vben5.0(ant-design-vue)")]),t._v(" "),s("h4",{attrs:{id:"第一步-修改配置-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改配置-3"}},[t._v("#")]),t._v(" 第一步，修改配置")]),t._v(" "),s("p",[t._v("前端 production 开发环境对应的是 "),s("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vben/blob/master/.env.production#L15-L21",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v(".env.production")]),s("OutboundLink")],1),t._v(" 配置文件，主要是修改 "),s("code",[t._v("VITE_GLOB_BASE_URL")]),t._v("、"),s("code",[t._v("VITE_GLOB_API_URL")]),t._v(" 为你的后端项目的访问地址。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/vben-env.png",alt:" 配置文件"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("其它高级参数说明【可暂时不看】：")]),t._v(" "),s("p",[t._v("① "),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v("：前端打包的路径（静态资源的基础路径），一般默认为 "),s("code",[t._v("/")]),t._v(" 即可。目前有两种用法：")]),t._v(" "),s("p",[t._v("第一种，可用于二级目录部署。例如说，"),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v(" 设置为 "),s("code",[t._v("/demo")]),t._v(" 。然后 Nginx 配置时，需要特殊注意，如下所示：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("        location /demo "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 1：不需要 / 结尾")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 2：二级路由时需要使用别名 alias，不用 root")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("alias")]),t._v("   /work/projects/yudao-ui-admin/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意点 3：需要 / 结尾")]),t._v("\n            index  index.html index.htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            try_files "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ /index.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("第二种，可用于七牛等 CDN 服务，读取前端的静态文件，提升访问速度，建议 prod 生产环境使用。例如说，我们演示环境的 "),s("code",[t._v("VITE_PUBLIC_PATH")]),t._v(" 是 "),s("code",[t._v("http://static-vue3.yudao.iocoder.cn/")]),t._v(" 。")]),t._v(" "),s("p",[t._v("具体操作，可参考文章的 "),s("a",{attrs:{href:"https://blog.csdn.net/weixin_71403100/article/details/132037721",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Vue 项目使用七牛云 CDN 存放静态资源》"),s("OutboundLink")],1),t._v(" 的「二、实现方式 」部分，只是最终的“修改 index.html 中静态资源引用”，变成 "),s("code",[t._v("PUBLIC_PATH")]),t._v(" 修改即可。")])]),t._v(" "),s("h4",{attrs:{id:"第二步-编译前端-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步-编译前端-2"}},[t._v("#")]),t._v(" 第二步，编译前端")]),t._v(" "),s("p",[t._v("在前端项目的根目录下，执行 "),s("code",[t._v("npm run build")]),t._v(" 命令，编译前端项目，构建出它的 "),s("code",[t._v("dist")]),t._v(" 文件，里面是 HTML、CSS、JavaScript 等静态文件。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/vben-%E7%BC%96%E8%AF%91.png",alt:"编译前端"}})]),t._v(" "),s("h4",{attrs:{id:"第三步-上传-dist-文件-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三步-上传-dist-文件-2"}},[t._v("#")]),t._v(" 第三步，上传 "),s("code",[t._v("dist")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("在 Linux 服务器上创建 "),s("code",[t._v("/work/projects/yudao-ui-admin")]),t._v(" 目录，使用 "),s("code",[t._v("scp")]),t._v(" 命令或者 FTP 工具，将 "),s("code",[t._v("dist")]),t._v(" 上传到该目录下。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/vben-dist.png",alt:"上传  文件"}})]),t._v(" "),s("h3",{attrs:{id:"_4-3-yudao-ui-admin-vue2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-yudao-ui-admin-vue2"}},[t._v("#")]),t._v(" 4.3 yudao-ui-admin-vue2")]),t._v(" "),s("p",[t._v("基于 Vue2 + element-ui")]),t._v(" "),s("h4",{attrs:{id:"第一步-修改配置-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第一步-修改配置-4"}},[t._v("#")]),t._v(" 第一步，修改配置")]),t._v(" "),s("p",[t._v("前端 dev 开发环境对应的是 "),s("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue2/blob/master/.env.dev",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v(".env.dev")]),s("OutboundLink")],1),t._v(" 配置文件，主要是修改 "),s("code",[t._v("VUE_APP_BASE_API")]),t._v(" 为你的后端项目的访问地址。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/eu-env.png",alt:" 配置文件"}})]),t._v(" "),s("h4",{attrs:{id:"第二步-编译前端-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第二步-编译前端-3"}},[t._v("#")]),t._v(" 第二步，编译前端")]),t._v(" "),s("p",[t._v("在前端项目的根目录下，执行 "),s("code",[t._v("npm run build:dev")]),t._v(" 命令，编译前端项目，构建出它的 "),s("code",[t._v("dist")]),t._v(" 文件，里面是 HTML、CSS、JavaScript 等静态文件。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/eu-%E7%BC%96%E8%AF%91.png",alt:"编译前端"}})]),t._v(" "),s("p",[t._v("如下想要打包其它环境，可使用如下命令：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:prod "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 打包 prod 生产环境")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build:stage "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 打包 stage 预发布环境")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("其它高级参数说明【可暂时不看】：")]),t._v(" "),s("p",[t._v("① "),s("code",[t._v("PUBLIC_PATH")]),t._v("：可用于七牛等 CDN 服务，读取前端的静态文件，提升访问速度，建议 prod 生产环境使用。示例如下：")]),t._v(" "),s("p",[t._v("可参考文章的 "),s("a",{attrs:{href:"https://blog.csdn.net/weixin_71403100/article/details/132037721",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Vue 项目使用七牛云 CDN 存放静态资源》"),s("OutboundLink")],1),t._v(" 的「二、实现方式 」部分，只是最终的“修改 index.html 中静态资源引用”，变成 "),s("code",[t._v("PUBLIC_PATH")]),t._v(" 修改即可。")]),t._v(" "),s("p",[t._v("② "),s("code",[t._v("VUE_APP_APP_NAME")]),t._v("：二级部署路径，默认为 "),s("code",[t._v("/")]),t._v(" 根目录，一般不用修改。")]),t._v(" "),s("p",[t._v("③ "),s("code",[t._v("mode")]),t._v("：前端路由的模式，默认采用 "),s("code",[t._v("history")]),t._v(" 路由，一般不用修改。可以通过修改 "),s("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue2/blob/master/src/router/index.js#L173-L178",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("router/index.js")]),s("OutboundLink")],1),t._v(" 来设置为 "),s("code",[t._v("hash")]),t._v(" 路由，示例如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/eu-mode.png",alt:" 参数"}})])]),t._v(" "),s("h4",{attrs:{id:"第三步-上传-dist-文件-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三步-上传-dist-文件-3"}},[t._v("#")]),t._v(" 第三步，上传 "),s("code",[t._v("dist")]),t._v(" 文件")]),t._v(" "),s("p",[t._v("在 Linux 服务器上创建 "),s("code",[t._v("/work/projects/yudao-ui-admin")]),t._v(" 目录，使用 "),s("code",[t._v("scp")]),t._v(" 命令或者 FTP 工具，将 "),s("code",[t._v("dist")]),t._v(" 上传到该目录下。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/eu-dist.png",alt:"上传  文件"}})]),t._v(" "),s("h2",{attrs:{id:"_4-配置-nginx-转发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-配置-nginx-转发"}},[t._v("#")]),t._v(" 4. 配置 Nginx 转发")]),t._v(" "),s("p",[t._v("两种 Nginx 的配置，分别满足服务器 IP、独立域名的不同场景。")]),t._v(" "),s("h3",{attrs:{id:"_4-1-方式一-服务器-ip-访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-方式一-服务器-ip-访问"}},[t._v("#")]),t._v(" 4.1 方式一：服务器 IP 访问")]),t._v(" "),s("p",[t._v("① 修改 Nginx 配置，内容如下：")]),t._v(" "),s("div",{staticClass:"language-Nginx extra-class"},[s("pre",{pre:!0,attrs:{class:"language-nginx"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_processes")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("events")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("worker_connections")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("http")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("include")]),t._v("       mime.types")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default_type")]),t._v("  application/octet-stream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sendfile")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("on")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("keepalive_timeout")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("on")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_min_length")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1k")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置允许压缩的页面最小字节数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_buffers")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16k")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用来存储 gzip 的压缩结果")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_http_version")]),t._v(" 1.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 识别 HTTP 协议版本")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_comp_level")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置 gzip 的压缩比 1-9。1 压缩比最小但最快，而 9 相反")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_types")]),t._v(" gzip_types text/plain text/css application/json application/javascript text/xml application/xml application/xml+rss text/javascript")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定压缩类型")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("gzip_proxied")]),t._v(" any")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 无论后端服务器的 headers 头返回什么信息，都无条件启用压缩")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("listen")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("server_name")]),t._v("  192.168.225.2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！修改成你的外网 IP/域名")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 前端项目")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("root")]),t._v("   /work/projects/yudao-ui-admin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("index")]),t._v("  index.html index.htm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try_files")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ /index.html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /admin-api/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 后端项目 - 管理后台")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://localhost:48080/admin-api/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" Host "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" X-Real-IP "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" REMOTE-HOST "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" X-Forwarded-For "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("location")]),t._v(" /app-api/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 后端项目 - 用户 App")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_pass")]),t._v(" http://localhost:48080/app-api/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" Host "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" X-Real-IP "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" REMOTE-HOST "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("proxy_set_header")]),t._v(" X-Forwarded-For "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("② 执行 "),s("code",[t._v("nginx -s reload")]),t._v(" 命令，重新加载 Nginx 配置。")]),t._v(" "),s("p",[t._v("③ 请求 "),s("a",{attrs:{href:"http://192.168.225.2/admin-api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://192.168.225.2/admin-api/"),s("OutboundLink")],1),t._v(" 地址，成功访问后端项目，返回结果如下：")]),t._v(" "),s("div",{staticClass:"language-JSON extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号未登录"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("④ 请求 "),s("a",{attrs:{href:"http://192.168.225.2",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://192.168.225.2"),s("OutboundLink")],1),t._v(" 地址，成功访问前端项目，返回前端界面如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/14.png",alt:"前端界面"}})]),t._v(" "),s("p",[t._v("⑤ 如果你使用到 WebSocket 的话，需要额外对 "),s("code",[t._v("/infra/ws")]),t._v(" 路径进行配置，具体可见 "),s("a",{attrs:{href:"https://t.zsxq.com/LQEfC",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/LQEfC"),s("OutboundLink")],1),t._v(" 链接。")]),t._v(" "),s("h3",{attrs:{id:"_4-2-方式二-独立域名访问"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-方式二-独立域名访问"}},[t._v("#")]),t._v(" 4.2 方式二：独立域名访问")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：在前端项目的编译时，需要把 `VUE_APP_BASE_API` 修改为后端项目对应的域名。")]),t._v(" "),s("p",[t._v("例如说，这里使用的是 "),s("code",[t._v("http://api.iocoder.cn")])])]),t._v(" "),s("p",[t._v("① 修改 Nginx 配置，内容如下：")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("worker_processes  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nevents "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    worker_connections  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nhttp "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    include       mime.types"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    default_type  application/octet-stream"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    sendfile        on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    keepalive_timeout  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("65")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("gzip")]),t._v(" on"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    gzip_min_length 1k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置允许压缩的页面最小字节数")]),t._v("\n    gzip_buffers "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" 16k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用来存储 gzip 的压缩结果")]),t._v("\n    gzip_http_version "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 识别 HTTP 协议版本")]),t._v("\n    gzip_comp_level "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置 gzip 的压缩比 1-9。1 压缩比最小但最快，而 9 相反")]),t._v("\n    gzip_types text/plain application/x-javascript text/css application/xml application/javascript"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定压缩类型")]),t._v("\n    gzip_proxied any"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 无论后端服务器的 headers 头返回什么信息，都无条件启用压缩")]),t._v("\n\n    server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 前端项目")]),t._v("\n        listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        server_name  admin.iocoder.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！修改成你的前端域名")]),t._v("\n\n        location / "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 前端项目")]),t._v("\n            root   /work/projects/yudao-ui-admin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            index  index.html index.htm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            try_files "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$uri")]),t._v("/ /index.html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    server "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 后端项目")]),t._v("\n        listen       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        server_name  api.iocoder.cn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！修改成你的外网 IP/域名")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 不要使用 location / 转发到后端项目，因为 druid、admin 等监控，不需要外网可访问。或者增加 Nginx IP 白名单限制也可以。")]),t._v("\n\n        location /admin-api/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 后端项目 - 管理后台")]),t._v("\n            proxy_pass http://localhost:48080/admin-api/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),t._v("\n            proxy_set_header Host "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header X-Real-IP "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header REMOTE-HOST "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header X-Forwarded-For "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        location /app-api/ "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 后端项目 - 用户 App")]),t._v("\n            proxy_pass http://localhost:48080/app-api/"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 重要！！！proxy_pass 需要设置为后端项目所在服务器的 IP")]),t._v("\n            proxy_set_header Host "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$http_host")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header X-Real-IP "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header REMOTE-HOST "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$remote_addr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            proxy_set_header X-Forwarded-For "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$proxy_add_x_forwarded_for")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("② 执行 "),s("code",[t._v("nginx -s reload")]),t._v(" 命令，重新加载 Nginx 配置。")]),t._v(" "),s("p",[t._v("③ 请求 "),s("a",{attrs:{href:"http://api.iocoder.cn/admin-api/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://api.iocoder.cn/admin-api/"),s("OutboundLink")],1),t._v(" 地址，成功访问后端项目，返回结果如下：")]),t._v(" "),s("div",{staticClass:"language-JSON extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token null keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号未登录"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("④ 请求 "),s("a",{attrs:{href:"http://admin.iocoder.cn",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://admin.iocoder.cn"),s("OutboundLink")],1),t._v(" 地址，成功访问前端项目，返回前端界面如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/Linux%E9%83%A8%E7%BD%B2/15.png",alt:"前端界面"}})]),t._v(" "),s("h2",{attrs:{id:"_666-更多说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_666-更多说明"}},[t._v("#")]),t._v(" 666. 更多说明")]),t._v(" "),s("p",[t._v("① 积木报表菜单，无法访问。参考 "),s("a",{attrs:{href:"https://t.zsxq.com/vBkup",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://t.zsxq.com/vBkup"),s("OutboundLink")],1),t._v(" 解决。")]),t._v(" "),s("p",[t._v("② 如果希望分离 Maven 依赖 lib 打包，可参考 "),s("a",{attrs:{href:"https://gitee.com/zhijiantianya/ruoyi-vue-pro/pulls/1259/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/zhijiantianya/ruoyi-vue-pro/pulls/1259/"),s("OutboundLink")],1),t._v(" 贡献。")])])}),[],!1,null,null,null);s.default=n.exports}}]);