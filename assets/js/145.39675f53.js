(window.webpackJsonp=window.webpackJsonp||[]).push([[145],{474:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("AI 写作，基于 LLM 大模型，实现文章的撰写、回复的功能。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/AI%E5%86%99%E4%BD%9C/%E5%86%99%E4%BD%9C.png",alt:"AI 写作"}})]),t._v(" "),s("p",[t._v("整个功能，涉及到 3 个表：")]),t._v(" "),s("ul",[s("li",[t._v("【配置】"),s("code",[t._v("ai_api_key")]),t._v("：API 秘钥表")]),t._v(" "),s("li",[t._v("【配置】"),s("code",[t._v("ai_model")]),t._v("：模型表")]),t._v(" "),s("li",[t._v("【写作】"),s("code",[t._v("ai_write")]),t._v("：写作记录表")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("补充说明：")]),t._v(" "),s("p",[s("code",[t._v("ai_api_key")]),t._v("、"),s("code",[t._v("ai_model")]),t._v(" 已经在 "),s("RouterLink",{attrs:{to:"/ai/build/"}},[t._v("《功能开启》")]),t._v(" 讲解，就不重复赘述。")],1)]),t._v(" "),s("p",[t._v("下面，我们逐个表进行介绍，这个过程中也会讲讲对应的功能。")]),t._v(" "),s("h2",{attrs:{id:"_1-前置准备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-前置准备"}},[t._v("#")]),t._v(" 1. 前置准备")]),t._v(" "),s("p",[t._v("你想使用哪个模型生成，可以参考对应的文档，进行配置“聊天”模型：")]),t._v(" "),s("ul",[s("li",[t._v("国内模型："),s("a",{attrs:{href:"/ai/tongyi"}},[t._v("《通义千问》")]),t._v("、"),s("a",{attrs:{href:"/ai/deep-seek"}},[t._v("《DeepSeek》")]),t._v("、"),s("a",{attrs:{href:"/ai/doubao"}},[t._v("《豆包》")]),t._v("、"),s("a",{attrs:{href:"/ai/hunyuan"}},[t._v("《混元》")]),t._v("、"),s("a",{attrs:{href:"/ai/yiyan"}},[t._v("《文心一言》")]),t._v("、"),s("a",{attrs:{href:"/ai/siliconflow"}},[t._v("《硅基流动》")]),t._v("、"),s("a",{attrs:{href:"/ai/xinghuo"}},[t._v("《讯飞星火》")]),t._v("、"),s("a",{attrs:{href:"/ai/glm"}},[t._v("《智谱 GLM》")]),t._v("、"),s("a",{attrs:{href:"/ai/moonshot"}},[t._v("《月之暗灭》")]),t._v("、"),s("a",{attrs:{href:"/ai/minimax"}},[t._v("《MiniMax》")]),t._v("、"),s("a",{attrs:{href:"/ai/baichuan"}},[t._v("《百川智能》")])]),t._v(" "),s("li",[t._v("国外模型："),s("a",{attrs:{href:"/ai/openai"}},[t._v("《OpenAI（ChatGPT）》")]),t._v("、"),s("a",{attrs:{href:"/ai/llama"}},[t._v("《LLAMA》")]),t._v("、"),s("a",{attrs:{href:"/ai/azure-openai"}},[t._v("《【微软 OpenAI】ChatGPT》")]),t._v(" 、"),s("a",{attrs:{href:"/ai/gemini"}},[t._v("《谷歌 Gemini》")])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("友情提示：")]),t._v(" "),s("p",[t._v("一般情况下，建议先使用 "),s("a",{attrs:{href:"/ai/deep-seek"}},[t._v("《DeepSeek》")]),t._v(" 模块，因为免费送了一些 tokens，可以先体验一下。")])]),t._v(" "),s("h2",{attrs:{id:"_2-prompt-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-prompt-配置"}},[t._v("#")]),t._v(" 2. Prompt 配置")]),t._v(" "),s("p",[t._v("AI 写作时，使用什么模型和 system prompt 呢？它分成两种情况：")]),t._v(" "),s("p",[t._v("① 情况一：通过【聊天角色】中的“写作助手”进行配置。如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/AI%E5%86%99%E4%BD%9C/%E5%86%99%E4%BD%9C%E6%A8%A1%E5%9E%8B.png",alt:"AI 写作模型"}})]),t._v(" "),s("p",[t._v("② 情况二：如果没有配置，那就会使用 "),s("code",[t._v("ai_model")]),t._v(" 表中的第一个模型（排序 "),s("code",[t._v("sort")]),t._v(" 最小的）。同时，它对应的 system prompt 在 AiChatRoleEnum 的 "),s("code",[t._v("AI_WRITE_ROLE")]),t._v(" 进行配置。")]),t._v(" "),s("h2",{attrs:{id:"_3-写作记录表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-写作记录表"}},[t._v("#")]),t._v(" 3. 写作记录表")]),t._v(" "),s("p",[t._v("写作记录表，用户每发起一次写作，都会记录一条记录。")]),t._v(" "),s("h3",{attrs:{id:"_3-1-表结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-表结构"}},[t._v("#")]),t._v(" 3.1 表结构")]),t._v(" "),s("blockquote",[s("p",[t._v("省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段")])]),t._v(" "),s("div",{staticClass:"language-SQL extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CREATE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("TABLE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("ai_write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bigint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'编号'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("user_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("bigint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'用户编号'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("int")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'写作类型'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("original_content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'原文'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("platform"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'平台'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("model"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'模型'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("prompt"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'生成内容提示'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("generated_content"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5120")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'生成的内容'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("length"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tinyint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'长度提示词'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("format"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tinyint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'格式提示词'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("tone"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tinyint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'语气提示词'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("language"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("tinyint")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'语言提示词'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("error_message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("varchar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("255")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARACTER")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("SET")]),t._v(" utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),t._v(" utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("NULL")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'错误信息'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIMARY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("KEY")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token identifier"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("USING")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("BTREE")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("ENGINE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("InnoDB")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("AUTO_INCREMENT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("225")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DEFAULT")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("CHARSET")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4 "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COLLATE")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("utf8mb4_0900_bin "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("COMMENT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AI 写作表'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("① "),s("code",[t._v("user_id")]),t._v(" 字段：对应 "),s("code",[t._v("system_users")]),t._v(" 表的 "),s("code",[t._v("id")]),t._v(" 字段，表示哪个用户生成的写作。")]),t._v(" "),s("p",[t._v("② "),s("code",[t._v("type")]),t._v(" 字段：表示写作类型，对应 AiWriteTypeEnum 枚举，目前有两个类型：撰写文章、回复文章。")]),t._v(" "),s("p",[t._v("当回复文章时，"),s("code",[t._v("original_content")]),t._v(" 字段表示原文（被回复文章）。")]),t._v(" "),s("p",[t._v("③ "),s("code",[t._v("platform")]),t._v(" 字段：表示平台，对应 AiPlatformEnum 枚举，目前支持多个 AI 大模型。")]),t._v(" "),s("p",[s("code",[t._v("model")]),t._v(" 字段：表示模型标识，对应不同的平台的模型标识，例如说 OpenAI 的 "),s("code",[t._v("gpt-3.5-turbo")]),t._v("、"),s("code",[t._v("gpt-4-turbo")]),t._v("，通义千问的 "),s("code",[t._v("qwen-plus")]),t._v("、"),s("code",[t._v("qwen-max")]),t._v(" 等等。")]),t._v(" "),s("p",[t._v("④ "),s("code",[t._v("prompt")]),t._v(" 字段：表示生成内容提示，用户输入的文本。")]),t._v(" "),s("p",[s("code",[t._v("generated_content")]),t._v(" 字段：表示生成的内容，AI 生成的文本。")]),t._v(" "),s("p",[t._v("⑤ "),s("code",[t._v("length")]),t._v("、"),s("code",[t._v("format")]),t._v("、"),s("code",[t._v("tone")]),t._v("、"),s("code",[t._v("language")]),t._v(" 字段：表示长度、格式、语气、语言提示词。它们是有数据字典枚举，分别对应 "),s("code",[t._v("ai_write_length")]),t._v("、"),s("code",[t._v("ai_write_format")]),t._v("、"),s("code",[t._v("ai_write_tone")]),t._v("、"),s("code",[t._v("ai_write_language")]),t._v("。")]),t._v(" "),s("p",[t._v("⑥ "),s("code",[t._v("error_message")]),t._v(" 字段：表示错误信息。由于写作是 stream 流式生成，所以可能会出现错误，这时会记录错误信息。")]),t._v(" "),s("h2",{attrs:{id:"_3-2-管理后台"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-管理后台"}},[t._v("#")]),t._v(" 3.2 管理后台")]),t._v(" "),s("p",[t._v("① 前端对应 [AI 大模型 -> AI 写作] 菜单，对应 "),s("code",[t._v("yudao-ui-admin-vue3")]),t._v(" 项目的 "),s("code",[t._v("@/views/ai/write/index")]),t._v(" 目录，提供给普通用户使用，生成写作。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/AI%E5%86%99%E4%BD%9C/%E5%86%99%E4%BD%9C.png",alt:"写作"}})]),t._v(" "),s("p",[t._v("它的后端 HTTP 接口，由 "),s("code",[t._v("yudao-module-ai")]),t._v(" 模块的 "),s("code",[t._v("write")]),t._v(" 包的 AiWriteController 实现。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("最最最关键的代码！！！大家可以重点看看！！！")]),t._v(" "),s("p",[t._v("AiWriteController 提供的 "),s("code",[t._v("#generateWriteContent(...)")]),t._v(" 写作接口。")]),t._v(" "),s("p",[t._v("它的内部，调用 Spring AI 的 StreamingChatClient 来实现大模型的调用。")])]),t._v(" "),s("p",[t._v("② 前端对应 [AI 大模型 -> 控制台 -> 写作管理] 菜单，对应 "),s("code",[t._v("yudao-ui-admin-vue3")]),t._v(" 项目的 "),s("code",[t._v("@/views/ai/write/mananger")]),t._v(" 目录，提供给管理员使用，查看写作记录。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/AI%E5%86%99%E4%BD%9C/%E5%86%99%E4%BD%9C%E7%AE%A1%E7%90%86.png",alt:"写作管理"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);