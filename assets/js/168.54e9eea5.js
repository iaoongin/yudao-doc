(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{497:function(t,e,a){"use strict";a.r(e);var s=a(7),r=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("进度说明：")]),t._v(" "),e("p",[t._v("功能设计上，对标阿里云、JetLinks 等优秀的商业、开源物联网平台，提供一套完整的物联网解决方案：")]),t._v(" "),e("ul",[e("li",[t._v("管理后台，请使用 "),e("a",{attrs:{href:"https://gitee.com/yudaocode/yudao-ui-admin-vue3",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/yudaocode/yudao-ui-admin-vue3"),e("OutboundLink")],1),t._v(" 仓库的 "),e("code",[t._v("master")]),t._v(" 分支")]),t._v(" "),e("li",[t._v("后端项目，请使用 "),e("a",{attrs:{href:"https://gitee.com/zhijiantianya/ruoyi-vue-pro",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/zhijiantianya/ruoyi-vue-pro"),e("OutboundLink")],1),t._v(" 仓库的 "),e("code",[t._v("master")]),t._v("（JDK8） 或 "),e("code",[t._v("master-jdk17")]),t._v("（JDK17//21） 分支")])]),t._v(" "),e("p",[t._v("整体分成三个阶段，目前处于第二阶段：")]),t._v(" "),e("ul",[e("li",[t._v("第一阶段：产品、设备、物模型的管理 100%")]),t._v(" "),e("li",[t._v("第二阶段：设备的数据采集、数据展示 50%")]),t._v(" "),e("li",[t._v("第三阶段：设备的告警、规则引擎、OTA 20%")])]),t._v(" "),e("p",[t._v("补充说明：由于 IoT 开发工作量很大，相关文档暂时还没来得及编写，后续肯定会补上的。🙏希望大家多多包涵！感恩的心~")]),t._v(" "),e("p",[t._v("目前还不建议生产使用，主要球友每天催 = =，所以先提供给大家体验一下，有问题可以提 issue，也欢迎 pull request 贡献！")])]),t._v(" "),e("p",[t._v("IoT 系统，后端由 "),e("code",[t._v("yudao-module-iot")]),t._v(" 模块实现，前端由 "),e("code",[t._v("yudao-ui-admin-vue3")]),t._v(" 的 "),e("code",[t._v("iot")]),t._v(" 目录实现。")]),t._v(" "),e("p",[t._v("考虑到编译速度，默认 "),e("code",[t._v("yudao-module-iot")]),t._v(" 模块是关闭的，需要手动开启。步骤如下：")]),t._v(" "),e("ul",[e("li",[t._v("第一步，开启 "),e("code",[t._v("yudao-module-iot")]),t._v(" 模块")]),t._v(" "),e("li",[t._v("第二步，导入 IOT 系统的 SQL 数据库脚本")]),t._v(" "),e("li",[t._v("第三步，搭建 TDengine 时序数据库")]),t._v(" "),e("li",[t._v("第四步，搭建 EMQX MQTT 服务器")]),t._v(" "),e("li",[t._v("第五步，重启后端项目，确认功能是否生效")])]),t._v(" "),e("h2",{attrs:{id:"_1-第一步-开启模块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-第一步-开启模块"}},[t._v("#")]),t._v(" 1. 第一步，开启模块")]),t._v(" "),e("p",[t._v("① 修改根目录的 "),e("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/pom.xml",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("pom.xml")]),e("OutboundLink")],1),t._v(" 文件，取消 "),e("code",[t._v("yudao-module-crm")]),t._v(" 模块的注释。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/IoT%E6%89%8B%E5%86%8C/%E5%8A%9F%E8%83%BD%E5%BC%80%E5%90%AF/%E7%AC%AC%E4%B8%80%E6%AD%A5-01.png",alt:"取消  模块的注释"}})]),t._v(" "),e("p",[t._v("② 修改 "),e("code",[t._v("yudao-server")]),t._v(" 目录的 "),e("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-server/pom.xml",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("pom.xml")]),e("OutboundLink")],1),t._v(" 文件，引入 "),e("code",[t._v("yudao-module-iot")]),t._v(" 模块。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/IoT%E6%89%8B%E5%86%8C/%E5%8A%9F%E8%83%BD%E5%BC%80%E5%90%AF/%E7%AC%AC%E4%B8%80%E6%AD%A5-02.png",alt:"引入  模块"}})]),t._v(" "),e("p",[t._v("③ 点击 IDEA 右上角的【Reload All Maven Projects】，刷新 Maven 依赖。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/%E5%85%AC%E4%BC%97%E5%8F%B7%E6%89%8B%E5%86%8C/%E5%8A%9F%E8%83%BD%E5%BC%80%E5%90%AF/%E7%AC%AC%E4%B8%80%E6%AD%A5-03.png",alt:"刷新 Maven 依赖"}})]),t._v(" "),e("h2",{attrs:{id:"_2-第二步-导入-sql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-第二步-导入-sql"}},[t._v("#")]),t._v(" 2. 第二步，导入 SQL")]),t._v(" "),e("p",[t._v("点击 "),e("a",{attrs:{href:"https://t.zsxq.com/dQTQ2",target:"_blank",rel:"noopener noreferrer"}},[e("code",[t._v("iot-2025-03-17.sql.zip")]),e("OutboundLink")],1),t._v(" 下载附件，解压出 SQL 文件，然后导入到数据库中。")]),t._v(" "),e("p",[t._v("所以表名字，都使用 "),e("code",[t._v("iot_")]),t._v(" 作为前缀。")]),t._v(" "),e("h2",{attrs:{id:"_3-第三步-搭建-tdengine-时序数据库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-第三步-搭建-tdengine-时序数据库"}},[t._v("#")]),t._v(" 3. 第三步，搭建 TDengine 时序数据库")]),t._v(" "),e("p",[t._v("① 参考 "),e("a",{attrs:{href:"https://docs.taosdata.com/get-started/docker/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《用 Docker 快速体验 TDengine》"),e("OutboundLink")],1),t._v(" 文档，快速搭建 TDengine 时序数据库。命令如下：")]),t._v(" "),e("div",{staticClass:"language-Bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" run "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-d")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("--name")]),t._v(" tdengine-test "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6030")]),t._v(":6030 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6041")]),t._v(":6041 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6043")]),t._v(":6043 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6044")]),t._v("-6049:6044-6049 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6044")]),t._v("-6045:6044-6045/udp "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-p")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6060")]),t._v(":6060 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("\n  tdengine/tdengine\n")])])]),e("p",[t._v("② 在 TDengine 种，创建 "),e("code",[t._v("ruoyi_vue-pro")]),t._v(" 数据库。命令如下：")]),t._v(" "),e("div",{staticClass:"language-Bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 进入容器")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("docker")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exec")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-it")]),t._v(" tdengine /bin/bash\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 在容器内，使用 taos 命令行工具创建数据库：")]),t._v("\ntaos\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("## 进入 TDengine CLI 后，执行以下 SQL 命令创建数据库：")]),t._v("\nCREATE DATABASE ruoyi_vue_pro"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n")])])]),e("p",[t._v("默认的账号是 "),e("code",[t._v("root")]),t._v("，密码是 "),e("code",[t._v("taosdata")]),t._v("。")]),t._v(" "),e("p",[t._v("③ 修改项目的 "),e("code",[t._v("application-local.yaml")]),t._v(" 配置文件，配置 TDengine 数据库。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/IoT%E6%89%8B%E5%86%8C/%E5%8A%9F%E8%83%BD%E5%BC%80%E5%90%AF/%E9%85%8D%E7%BD%AETDengine%E6%95%B0%E6%8D%AE%E6%BA%90.png",alt:"配置 TDengine 数据源"}})]),t._v(" "),e("h2",{attrs:{id:"_4-第四步-搭建-emqx-mqtt-服务器-可选"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-第四步-搭建-emqx-mqtt-服务器-可选"}},[t._v("#")]),t._v(" 4. 第四步，搭建 EMQX MQTT 服务器（可选）")]),t._v(" "),e("p",[t._v("TODO 如果要使用 "),e("code",[t._v("yudao-module-iot-plugin-emqx")]),t._v(" 接收设备数据，需要搭建。")]),t._v(" "),e("p",[t._v("如果使用 "),e("code",[t._v("yudao-module-iot-plugin-http")]),t._v(" 接收设备数据，则不需要搭建，可跳过这一步。")]),t._v(" "),e("h2",{attrs:{id:"_5-第五步-重启项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-第五步-重启项目"}},[t._v("#")]),t._v(" 5. 第五步，重启项目")]),t._v(" "),e("p",[t._v("重启后端项目，然后访问前端的 IoT 菜单，确认功能是否生效。如下图所示：")]),t._v(" "),e("p",[e("img",{attrs:{src:"/img/IoT%E6%89%8B%E5%86%8C/%E5%8A%9F%E8%83%BD%E6%BC%94%E7%A4%BA/%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0.png",alt:"确认功能是否生效"}})]),t._v(" "),e("p",[t._v("至此，我们就成功开启了 IoT 的功能 🙂")])])}),[],!1,null,null,null);e.default=r.exports}}]);