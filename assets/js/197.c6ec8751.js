(window.webpackJsonp=window.webpackJsonp||[]).push([[197],{526:function(e,t,a){"use strict";a.r(t);var s=a(7),o=Object(s.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("p",[e._v("本小节，分享前端项目的常用方法。")]),e._v(" "),t("h2",{attrs:{id:"_1-缓存配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-缓存配置"}},[e._v("#")]),e._v(" 1. 缓存配置")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("友情提示：")]),e._v(" "),t("p",[e._v("该小节，基于 "),t("a",{attrs:{href:"https://element-plus-admin-doc.cn/guide/settings.html#%E7%BC%93%E5%AD%98%E9%85%8D%E7%BD%AE",target:"_blank",rel:"noopener noreferrer"}},[e._v("《vue element plus admin —— 项目配置「缓存配置 」》"),t("OutboundLink")],1),e._v(" 的内容修改。")])]),e._v(" "),t("h3",{attrs:{id:"_1-1-说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-说明"}},[e._v("#")]),e._v(" 1.1 说明")]),e._v(" "),t("p",[e._v("在项目中，你可以看到很多地方都使用了 "),t("code",[e._v("wsCache.set")]),e._v(" 或者 "),t("code",[e._v("wsCache.get")]),e._v("，这是基于 "),t("a",{attrs:{href:"https://github.com/wuchangming/web-storage-cache",target:"_blank",rel:"noopener noreferrer"}},[e._v("web-storage-cache"),t("OutboundLink")],1),e._v(" 进行封装，采用 "),t("code",[e._v("hook")]),e._v(" 的形式。")]),e._v(" "),t("p",[e._v("该插件对HTML5 "),t("code",[e._v("localStorage")]),e._v(" 和 "),t("code",[e._v("sessionStorage")]),e._v(" 进行了扩展，添加了超时时间，序列化方法。可以直接存储 "),t("code",[e._v("json")]),e._v(" 对象，同时可以非常简单的进行超时时间的设置。")]),e._v(" "),t("p",[e._v("本项目默认是采用 "),t("code",[e._v("sessionStorage")]),e._v(" 的存储方式，如果更改，可以直接在 "),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/hooks/web/useCache.ts",target:"_blank",rel:"noopener noreferrer"}},[e._v("useCache.ts"),t("OutboundLink")],1),e._v(" 中把 "),t("code",[e._v("type: CacheType = 'sessionStorage'")]),e._v(" 改为 "),t("code",[e._v("type: CacheType = 'localStorage'")]),e._v("，这样项目中的所有用到的地方，都会变成该方式进行数据存储。")]),e._v(" "),t("p",[e._v("如果只想单个更改，可以传入存储类型 "),t("code",[e._v("const { wsCache } = useCache('localStorage')")]),e._v("，既可只适用当前存储对象。")]),e._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[e._v("注意：")]),e._v(" "),t("p",[e._v("更改完默认存储方式后，需要清除浏览器缓存并重新登录，以免造成不可描述的问题。")])]),e._v(" "),t("h3",{attrs:{id:"_1-2-示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-示例"}},[e._v("#")]),e._v(" 1.2 示例")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/Vue3/%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/10.png",alt:"wsCache 示例"}})]),e._v(" "),t("h2",{attrs:{id:"_2-message-对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-message-对象"}},[e._v("#")]),e._v(" 2. "),t("code",[e._v("message")]),e._v(" 对象")]),e._v(" "),t("h3",{attrs:{id:"_2-1-说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-说明"}},[e._v("#")]),e._v(" 2.1 说明")]),e._v(" "),t("p",[t("code",[e._v("message")]),e._v(" 对象，由 "),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/hooks/web/useMessage.ts",target:"_blank",rel:"noopener noreferrer"}},[e._v("src/hooks/web/useMessage.ts"),t("OutboundLink")],1),e._v(" 实现，基于 ElMessage、ElMessageBox、ElNotification 封装，用于做消息提示、通知提示、对话框提醒、二次确认等。")]),e._v(" "),t("h3",{attrs:{id:"_2-2-示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-示例"}},[e._v("#")]),e._v(" 2.2 示例")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/Vue3/%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/11.png",alt:"message 示例"}})]),e._v(" "),t("h2",{attrs:{id:"_3-download-对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-download-对象"}},[e._v("#")]),e._v(" 3. "),t("code",[e._v("download")]),e._v(" 对象")]),e._v(" "),t("h3",{attrs:{id:"_3-1-说明"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-说明"}},[e._v("#")]),e._v(" 3.1 说明")]),e._v(" "),t("p",[t("code",[e._v("$download")]),e._v(" 对象，由 "),t("a",{attrs:{href:"https://github.com/yudaocode/yudao-ui-admin-vue3/blob/master/src/utils/download.ts",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("util/download.ts")]),t("OutboundLink")],1),e._v(" 实现，用于 Excel、Word、Zip、HTML 等类型的文件下载。")]),e._v(" "),t("h3",{attrs:{id:"_3-2-示例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-示例"}},[e._v("#")]),e._v(" 3.2 示例")]),e._v(" "),t("p",[t("img",{attrs:{src:"/img/Vue3/%E9%80%9A%E7%94%A8%E6%96%B9%E6%B3%95/12.png",alt:"download 示例"}})])])}),[],!1,null,null,null);t.default=o.exports}}]);