(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{477:function(t,a,e){"use strict";e.r(a);var r=e(7),i=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-dify-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-dify-是什么"}},[t._v("#")]),t._v(" 1. Dify 是什么？")]),t._v(" "),a("p",[t._v("Dify 是一个开源的 LLM 应用开发平台。其直观的界面结合了 AI 工作流、RAG 管道、Agent、模型管理、可观测性功能等，让您可以快速从原型到生产。")]),t._v(" "),a("p",[t._v("它的官网是 "),a("a",{attrs:{href:"https://dify.ai/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dify.ai/"),a("OutboundLink")],1),t._v("，可直接申请使用。")]),t._v(" "),a("p",[t._v("同时，它也是个开源项目，地址是 "),a("a",{attrs:{href:"https://github.com/langgenius/dify",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/langgenius/dify"),a("OutboundLink")],1),t._v("，可以自行部署。")]),t._v(" "),a("h2",{attrs:{id:"_2-如何接入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-如何接入"}},[t._v("#")]),t._v(" 2. 如何接入？")]),t._v(" "),a("p",[t._v("由于 Dify 的 "),a("a",{attrs:{href:"https://docs.dify.ai/zh-hans/guides/application-publishing/developing-with-apis",target:"_blank",rel:"noopener noreferrer"}},[t._v("对话接口"),a("OutboundLink")],1),t._v(" 不兼容 GPT 的接口，所以无法使用 "),a("a",{attrs:{href:"/ai/openai"}},[t._v("《【模型接入】OpenAI》")]),t._v(" 的方式，无法通过 OpenAIChatModel 进行接入。")]),t._v(" "),a("p",[t._v("不过，社区里有人提供了 "),a("a",{attrs:{href:"https://github.com/fatwang2/dify2openai",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fatwang2/dify2openai"),a("OutboundLink")],1),t._v(" 项目，可以将 Dify 的对话接口转换为 OpenAI 的接口，这样就可以使用 OpenAIChatModel 进行接入了。")]),t._v(" "),a("p",[t._v("下面，我们讲解下，如何把我们系统中的 "),a("RouterLink",{attrs:{to:"/ai/chat/"}},[t._v("《AI 对话聊天》")]),t._v(" ，接入到 Dify 的工作室（聊天助手、Agent、工作流等）。")],1),t._v(" "),a("h3",{attrs:{id:"_2-1-第一步-创建-dify-应用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-第一步-创建-dify-应用"}},[t._v("#")]),t._v(" 2.1 第一步：创建 Dify 应用")]),t._v(" "),a("p",[t._v("① 在 "),a("a",{attrs:{href:"https://cloud.dify.ai/apps",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://cloud.dify.ai/apps"),a("OutboundLink")],1),t._v(" 工作室，点击【创建空白应用】按钮，创建一个应用。具体怎么创建，可见 "),a("a",{attrs:{href:"https://docs.dify.ai/zh-hans/guides/application-orchestrate/creating-an-application",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.dify.ai/zh-hans/guides/application-orchestrate/creating-an-application"),a("OutboundLink")],1),t._v(" 文档。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/Dify/%E6%96%B0%E5%BB%BA%E5%BA%94%E7%94%A8.png",alt:"新建应用"}})]),t._v(" "),a("p",[t._v("② 点击应用，切换到【访问 API】选项，再点击【API 密钥】按钮，之后点击【创建密钥】按钮，生成一个 API 密钥。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/Dify/%E6%96%B0%E5%BB%BAAPI%E5%AF%86%E9%92%A5.png",alt:"新建 API 密钥"}})]),t._v(" "),a("h3",{attrs:{id:"_2-2-第二步-配置-api-密钥与模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-第二步-配置-api-密钥与模型"}},[t._v("#")]),t._v(" 2.2 第二步：配置 API 密钥与模型")]),t._v(" "),a("p",[t._v("〇 本地搭建 "),a("a",{attrs:{href:"https://github.com/fatwang2/dify2openai",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/fatwang2/dify2openai"),a("OutboundLink")],1),t._v(" 项目，将 Dify 的对话接口转换为 OpenAI 的接口。")]),t._v(" "),a("p",[t._v("① 在我们系统的 [AI 大模型 -> 控制台 -> API 密钥] 菜单，新建一个 Dify 的 API 密钥，填写上面的“密钥”，并设置 URL 为 "),a("code",[t._v("http://127.0.0.1:3000")]),t._v(" 。如下图所示：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/Dify/API%E5%AF%86%E9%92%A5.png",alt:"API 密钥"}})]),t._v(" "),a("p",[t._v("② 在我们系统的 [AI 大模型 -> 控制台 -> 模型配置] 菜单，新建一个 Dify 的聊天模型，填写上面的“模型名称” + “API 密钥” + “API URL”。如下图所示：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/Dify/%E6%A8%A1%E5%9E%8B%E9%85%8D%E7%BD%AE.png",alt:"模型配置"}})]),t._v(" "),a("h3",{attrs:{id:"_2-3-第三步-ai-对话聊天"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-第三步-ai-对话聊天"}},[t._v("#")]),t._v(" 2.3 第三步：AI 对话聊天")]),t._v(" "),a("p",[t._v("在 [AI 大模型 -> AI 对话] 菜单，选择 Dify 的聊天模型，即可开始对话。如下图所示：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/AI%E6%89%8B%E5%86%8C/Dify/AI%E5%AF%B9%E8%AF%9D.png",alt:"AI 对话"}})]),t._v(" "),a("h2",{attrs:{id:"_3-常见问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-常见问题"}},[t._v("#")]),t._v(" 3. 常见问题？")]),t._v(" "),a("p",[t._v("① 如果你想使用 Dify 知识库接口，可参考 "),a("a",{attrs:{href:"https://docs.dify.ai/zh-hans/guides/knowledge-base/external-knowledge-api-documentation",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.dify.ai/zh-hans/guides/knowledge-base/external-knowledge-api-documentation"),a("OutboundLink")],1),t._v(" 进行对接。")]),t._v(" "),a("p",[t._v("当然，我们系统已经提供了 "),a("a",{attrs:{href:"/ai/knowledge"}},[t._v("《AI 知识库》")]),t._v(" 功能。")]),t._v(" "),a("p",[t._v("② 如果使用 Dify 对话接口时，需要传递 "),a("code",[t._v("input")]),t._v("、"),a("code",[t._v("files")]),t._v(" 等参数，无法采用上述方式接入。")]),t._v(" "),a("p",[t._v("此时，只能参考 OpenAiChatModel 的源码，实现类似 DifyChatModel 的接入，甚至要修改 "),a("code",[t._v("dify2openai")]),t._v(" 源码。")])])}),[],!1,null,null,null);a.default=i.exports}}]);