(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{357:function(t,s,a){"use strict";a.r(s);var n=a(7),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"ğŸ‘-ç›¸å…³è§†é¢‘æ•™ç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ‘-ç›¸å…³è§†é¢‘æ•™ç¨‹"}},[t._v("#")]),t._v(" ğŸ‘ ç›¸å…³è§†é¢‘æ•™ç¨‹")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07nYzrfyz",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 01ï¼šå¦‚ä½•è®¾è®¡ä¸€å¥—æƒé™ç³»ç»Ÿï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07IuNBmAq",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 02ï¼šå¦‚ä½•å®ç°èœå•çš„åˆ›å»ºï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07f6AuJuZ",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 03ï¼šå¦‚ä½•å®ç°è§’è‰²çš„åˆ›å»ºï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07uJqV7Y3",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 04ï¼šå¦‚ä½•ç»™ç”¨æˆ·åˆ†é…æƒé™ â€”â€” å°†èœå•èµ‹äºˆè§’è‰²ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07YBe6QjA",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 05ï¼šå¦‚ä½•ç»™ç”¨æˆ·åˆ†é…æƒé™ â€”â€” å°†è§’è‰²èµ‹äºˆç”¨æˆ·ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/072ZVJurz",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 06ï¼šåç«¯å¦‚ä½•å®ç° URL æƒé™çš„æ ¡éªŒï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/07rnMRRn2",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 07ï¼šå‰ç«¯å¦‚ä½•å®ç°èœå•çš„åŠ¨æ€åŠ è½½ï¼Ÿ"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://t.zsxq.com/072JeIUfY",target:"_blank",rel:"noopener noreferrer"}},[t._v("åŠŸèƒ½æƒé™ 08ï¼šå‰ç«¯å¦‚ä½•å®ç°æŒ‰é’®çš„æƒé™æ ¡éªŒï¼Ÿ"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_1-rbac-æƒé™æ¨¡å‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-rbac-æƒé™æ¨¡å‹"}},[t._v("#")]),t._v(" 1. RBAC æƒé™æ¨¡å‹")]),t._v(" "),s("p",[t._v("ç³»ç»Ÿé‡‡ç”¨ RBAC æƒé™æ¨¡å‹ï¼Œå…¨ç§°æ˜¯ Role-Based Access Control åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ã€‚")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%8A%9F%E8%83%BD%E6%9D%83%E9%99%90/01.png",alt:"æƒé™æ¨¡å‹"}})]),t._v(" "),s("p",[t._v("ç®€å•æ¥è¯´ï¼Œæ¯ä¸ªç”¨æˆ·æ‹¥æœ‰è‹¥å¹²è§’è‰²ï¼Œæ¯ä¸ªè§’è‰²æ‹¥æœ‰è‹¥å¹²ä¸ªèœå•ï¼Œèœå•ä¸­å­˜åœ¨èœå•æƒé™ã€æŒ‰é’®æƒé™ã€‚è¿™æ ·ï¼Œå°±å½¢æˆäº† "),s("strong",[t._v("â€œç”¨æˆ·<->è§’è‰²<->èœå•â€")]),t._v(" çš„æˆæƒæ¨¡å‹ã€‚ åœ¨è¿™ç§æ¨¡å‹ä¸­ï¼Œç”¨æˆ·ä¸è§’è‰²ã€è§’è‰²ä¸èœå•ä¹‹é—´æ„æˆäº†å¤šå¯¹å¤šçš„å…³ç³»ï¼Œå¦‚ä¸‹å›¾ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%8A%9F%E8%83%BD%E6%9D%83%E9%99%90/02.png",alt:"æƒé™æ¨¡å‹"}})]),t._v(" "),s("h2",{attrs:{id:"_2-token-è®¤è¯æœºåˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-token-è®¤è¯æœºåˆ¶"}},[t._v("#")]),t._v(" 2. Token è®¤è¯æœºåˆ¶")]),t._v(" "),s("p",[t._v("å®‰å…¨æ¡†æ¶ä½¿ç”¨çš„æ˜¯ "),s("a",{attrs:{href:"https://www.iocoder.cn/Spring-Boot/Spring-Security/?yudao",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring Security"),s("OutboundLink")],1),t._v(" + Token æ–¹æ¡ˆï¼Œæ•´ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%8A%9F%E8%83%BD%E6%9D%83%E9%99%90/03.png",alt:"Token è®¤è¯æœºåˆ¶"}})]),t._v(" "),s("p",[t._v("â‘  å‰ç«¯è°ƒç”¨ç™»å½•æ¥å£ï¼Œä½¿ç”¨è´¦å·å¯†ç è·å¾—åˆ°è®¤è¯ Tokenã€‚å“åº”ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-JSON extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"msg"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"data"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"token"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"d2a3cdbc6c53470db67a582bd115103f"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("ul",[s("li",[t._v("ç®¡ç†åå°çš„ç™»å½•å®ç°ï¼Œå¯è§ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-system/yudao-module-system-biz/src/main/java/cn/iocoder/yudao/module/system/controller/admin/auth/AuthController.java#L56-L63",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç "),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("ç”¨æˆ· App çš„ç™»å½•å®ç°ï¼Œå¯è§ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-member/yudao-module-member-biz/src/main/java/cn/iocoder/yudao/module/member/controller/app/auth/AppAuthController.java#L34-L41",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç "),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("ç–‘é—®ï¼šä¸ºä»€ä¹ˆä¸ä½¿ç”¨ Spring Security å†…ç½®çš„è¡¨å•ç™»å½•ï¼Ÿ")]),t._v(" "),s("p",[t._v("Spring Security çš„ç™»å½•æ‹“å±•èµ·æ¥ä¸æ–¹ä¾¿ï¼Œä¾‹å¦‚è¯´éªŒè¯ç ã€ä¸‰æ–¹ç™»å½•ç­‰ç­‰ã€‚")])]),t._v(" "),s("p",[t._v("Token å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œå¯¹åº” "),s("code",[t._v("system_oauth2_access_token")]),t._v(" è®¿é—®ä»¤ç‰Œè¡¨çš„ "),s("code",[t._v("id")]),t._v(" å­—æ®µã€‚è€ƒè™‘åˆ°è®¿é—®çš„æ€§èƒ½ï¼Œç¼“å­˜åœ¨ Redis çš„ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-system/yudao-module-system-biz/src/main/java/cn/iocoder/yudao/module/system/dal/redis/RedisKeyConstants.java#L21",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("oauth2_access_token:%s")]),s("OutboundLink")],1),t._v(" é”®ä¸­ã€‚")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("ç–‘é—®ï¼šä¸ºä»€ä¹ˆä¸ä½¿ç”¨ JWT(JSON Web Token)ï¼Ÿ")]),t._v(" "),s("p",[t._v("JWT æ˜¯æ— çŠ¶æ€çš„ï¼Œæ— æ³•å®ç° Token çš„ä½œåºŸï¼Œä¾‹å¦‚è¯´ç”¨æˆ·ç™»å‡ºç³»ç»Ÿã€ä¿®æ”¹å¯†ç ç­‰ç­‰åœºæ™¯ã€‚")]),t._v(" "),s("p",[t._v("æ¨èé˜…è¯» "),s("a",{attrs:{href:"https://www.iocoder.cn/Fight/Confused-about-cookies-sessions,-Tokens-JWT/?yudao",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€Šè¿˜åˆ†ä¸æ¸… Cookieã€Sessionã€Tokenã€JWTï¼Ÿã€‹"),s("OutboundLink")],1),t._v(" æ–‡ç« ã€‚")])]),t._v(" "),s("p",[t._v("é»˜è®¤é…ç½®ä¸‹ï¼ŒToken æœ‰æ•ˆæœŸä¸º 30 å¤©ï¼Œå¯é€šè¿‡ "),s("code",[t._v("system_oauth2_client")]),t._v(" è¡¨ä¸­ "),s("code",[t._v("client_id = default")]),t._v(" çš„è®°å½•è¿›è¡Œè‡ªå®šä¹‰ï¼š")]),t._v(" "),s("p",[s("img",{attrs:{src:"/img/%E5%8A%9F%E8%83%BD%E6%9D%83%E9%99%90/04.png",alt:" è¡¨"}})]),t._v(" "),s("ul",[s("li",[t._v("ä¿®æ”¹ "),s("code",[t._v("access_token_validity_seconds")]),t._v(" å­—æ®µï¼Œè®¾ç½®è®¿é—®ä»¤ç‰Œçš„è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤ 1800 ç§’ = 30 åˆ†é’Ÿ")]),t._v(" "),s("li",[t._v("ä¿®æ”¹ "),s("code",[t._v("refresh_token_validity_seconds")]),t._v(" å­—æ®µï¼Œè®¾ç½®åˆ·æ–°ä»¤ç‰Œçš„è¿‡æœŸæ—¶é—´ï¼Œé»˜è®¤ 2592000 ç§’ = 30 å¤©")])]),t._v(" "),s("p",[t._v("â‘¡ å‰ç«¯è°ƒç”¨å…¶å®ƒæ¥å£ï¼Œéœ€è¦åœ¨è¯·æ±‚å¤´å¸¦ä¸Š Token è¿›è¡Œè®¿é—®ã€‚è¯·æ±‚å¤´æ ¼å¼å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### Authorization: Bearer ç™»å½•æ—¶è¿”å›çš„ Token")]),t._v("\nAuthorization: Bearer d2a3cdbc6c53470db67a582bd115103f\n")])])]),s("ul",[s("li",[t._v("å…·ä½“çš„ä»£ç å®ç°ï¼Œå¯è§ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-framework/yudao-spring-boot-starter-security/src/main/java/cn/iocoder/yudao/framework/security/core/filter/TokenAuthenticationFilter.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("TokenAuthenticationFilter"),s("OutboundLink")],1),t._v(" è¿‡æ»¤å™¨")])]),t._v(" "),s("p",[t._v("è€ƒè™‘åˆ°ä½¿ç”¨ Postmanã€Swagger è°ƒè¯•æ¥å£æ–¹ä¾¿ï¼Œæä¾›äº† "),s("strong",[t._v("Token çš„æ¨¡æ‹Ÿæœºåˆ¶")]),t._v("ã€‚è¯·æ±‚å¤´æ ¼å¼å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### Authorization: Bearer testç”¨æˆ·ç¼–å·")]),t._v("\nAuthorization: Bearer test1\n")])])]),s("p",[t._v("å…¶ä¸­ "),s("code",[t._v('"test"')]),t._v(" å¯è‡ªå®šä¹‰ï¼Œé…ç½®é¡¹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-YAML extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("### application-local.yaml")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("yudao")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mock-enable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# æ˜¯å¦å¼€å¯ Token çš„æ¨¡æ‹Ÿæœºåˆ¶")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mock-secret")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" test "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Token æ¨¡æ‹Ÿæœºåˆ¶çš„ Token å‰ç¼€")]),t._v("\n")])])]),s("h2",{attrs:{id:"_3-æƒé™æ³¨è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-æƒé™æ³¨è§£"}},[t._v("#")]),t._v(" 3. æƒé™æ³¨è§£")]),t._v(" "),s("h3",{attrs:{id:"_3-1-preauthorize-æ³¨è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-preauthorize-æ³¨è§£"}},[t._v("#")]),t._v(" 3.1 @PreAuthorize æ³¨è§£")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/spring-projects/spring-security/blob/main/core/src/main/java/org/springframework/security/access/prepost/PreAuthorize.java",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@PreAuthorize")]),s("OutboundLink")],1),t._v(" æ˜¯ Spring Security å†…ç½®çš„"),s("strong",[t._v("å‰ç½®")]),t._v("æƒé™æ³¨è§£ï¼Œæ·»åŠ åœ¨"),s("strong",[t._v("æ¥å£æ–¹æ³•")]),t._v("ä¸Šï¼Œå£°æ˜éœ€è¦çš„æƒé™ï¼Œå®ç°è®¿é—®æƒé™çš„æ§åˆ¶ã€‚")]),t._v(" "),s("p",[t._v("â‘  åŸºäºã€æƒé™æ ‡è¯†ã€‘çš„æƒé™æ§åˆ¶")]),t._v(" "),s("p",[t._v("æƒé™æ ‡è¯†ï¼Œå¯¹åº” "),s("code",[t._v("system_menu")]),t._v(" è¡¨çš„ "),s("code",[t._v("permission")]),t._v(" å­—æ®µï¼Œæ¨èæ ¼å¼ä¸º "),s("code",[t._v("${ç³»ç»Ÿ}:${æ¨¡å—}:${æ“ä½œ}")]),t._v("ï¼Œä¾‹å¦‚è¯´ "),s("code",[t._v("system:admin:add")]),t._v(" æ ‡è¯† system æœåŠ¡çš„æ·»åŠ ç®¡ç†å‘˜ã€‚")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¦åˆ system:user:list æƒé™è¦æ±‚")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PreAuthorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"@ss.hasPermission('system:user:list')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç¬¦åˆ system:user:add æˆ– system:user:edit æƒé™è¦æ±‚å³å¯")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PreAuthorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"@ss.hasAnyPermissions('system:user:add', 'system:user:edit')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("â‘¡ åŸºäºã€è§’è‰²æ ‡è¯†ã€‘çš„æƒé™æ§åˆ¶")]),t._v(" "),s("p",[t._v("æƒé™æ ‡è¯†ï¼Œå¯¹åº” "),s("code",[t._v("system_role")]),t._v(" è¡¨çš„ "),s("code",[t._v("code")]),t._v(" å­—æ®µï¼Œ ä¾‹å¦‚è¯´ "),s("code",[t._v("super_admin")]),t._v(" è¶…çº§ç®¡ç†å‘˜ã€"),s("code",[t._v("tenant_admin")]),t._v(" ç§Ÿæˆ·ç®¡ç†å‘˜ã€‚")]),t._v(" "),s("p",[t._v("ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±äº user è§’è‰²")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PreAuthorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"@ss.hasRole('user')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å±äº user æˆ–è€… admin ä¹‹ä¸€")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PreAuthorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"@ss.hasAnyRoles('user', 'admin')\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å®ç°åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ")]),t._v(" "),s("p",[t._v("å½“ "),s("code",[t._v("@PreAuthorize")]),t._v(" æ³¨è§£é‡Œçš„ Spring EL è¡¨è¾¾å¼è¿”å› "),s("code",[t._v("false")]),t._v(" æ—¶ï¼Œè¡¨ç¤ºæ²¡æœ‰æƒé™ã€‚")]),t._v(" "),s("p",[t._v("è€Œ "),s("code",[t._v("@PreAuthorize(\"@ss.hasPermission('system:user:list')\")")]),t._v(" è¡¨ç¤ºè°ƒç”¨ Bean åå­—ä¸º "),s("code",[t._v("ss")]),t._v(" çš„ "),s("code",[t._v("#hasPermission(...)")]),t._v(" æ–¹æ³•ï¼Œæ–¹æ³•å‚æ•°ä¸º "),s("code",[t._v('"system:user:list"')]),t._v(" å­—ç¬¦ä¸²ã€‚"),s("code",[t._v("ss")]),t._v(" å¯¹åº”çš„ Bean æ˜¯ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-system/yudao-module-system-biz/src/main/java/cn/iocoder/yudao/module/system/service/permission/PermissionServiceImpl.java#L43",target:"_blank",rel:"noopener noreferrer"}},[t._v("PermissionServiceImpl"),s("OutboundLink")],1),t._v(" ç±»ï¼Œæ‰€ä»¥ä½ åªéœ€è¦å»çœ‹è¯¥æ–¹æ³•çš„"),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-system/yudao-module-system-biz/src/main/java/cn/iocoder/yudao/module/system/service/permission/PermissionServiceImpl.java#L293-L326",target:"_blank",rel:"noopener noreferrer"}},[t._v("å®ç°ä»£ç "),s("OutboundLink")],1),t._v("ã€‚")])]),t._v(" "),s("p",[t._v("æ³¨æ„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåªæœ‰ç®¡ç†åå°çš„æ¥å£æ‰ä¼šä½¿ç”¨ "),s("code",[t._v("@PreAuthorize")]),t._v(" æ³¨è§£ï¼Œç”¨æˆ· App çš„æ¥å£ä¸ä¼šä½¿ç”¨ã€‚")]),t._v(" "),s("h2",{attrs:{id:"_4-è‡ªå®šä¹‰æƒé™é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-è‡ªå®šä¹‰æƒé™é…ç½®"}},[t._v("#")]),t._v(" 4. è‡ªå®šä¹‰æƒé™é…ç½®")]),t._v(" "),s("p",[t._v("é»˜è®¤é…ç½®ä¸‹ï¼Œæ‰€æœ‰æ¥å£éƒ½éœ€è¦ç™»å½•åæ‰èƒ½è®¿é—®ï¼Œä¸é™äºç®¡ç†åå°çš„ "),s("code",[t._v("/admin-api/**")]),t._v(" æ‰€æœ‰ API æ¥å£ã€ç”¨æˆ· App çš„ "),s("code",[t._v("/app-api/**")]),t._v(" æ‰€æœ‰ API æ¥å£ã€‚")]),t._v(" "),s("p",[t._v("å¦‚ä¸‹æƒ³è¦è‡ªå®šä¹‰æƒé™é…ç½®ï¼Œè®¾ç½®å®šä¹‰ API æ¥å£å¯ä»¥åŒ¿åï¼ˆä¸ç™»å½•ï¼‰è¿›è¡Œè®¿é—®ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢ä¸‰ç§æ–¹å¼ï¼š")]),t._v(" "),s("h3",{attrs:{id:"_4-1-æ–¹å¼ä¸€-è‡ªå®šä¹‰-authorizerequestscustomizer-å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-æ–¹å¼ä¸€-è‡ªå®šä¹‰-authorizerequestscustomizer-å®ç°"}},[t._v("#")]),t._v(" 4.1 æ–¹å¼ä¸€ï¼šè‡ªå®šä¹‰ AuthorizeRequestsCustomizer å®ç°")]),t._v(" "),s("p",[t._v("æ¯ä¸ª Maven Module å¯ä»¥å®ç°è‡ªå®šä¹‰çš„ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-framework/yudao-spring-boot-starter-security/src/main/java/cn/iocoder/yudao/framework/security/config/YudaoWebSecurityConfigurerAdapter.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("AuthorizeRequestsCustomizer"),s("OutboundLink")],1),t._v(" Beanï¼Œé¢å¤–å®šä¹‰æ¯ä¸ª Module çš„ API æ¥å£çš„è®¿é—®è§„åˆ™ã€‚ä¾‹å¦‚è¯´ "),s("code",[t._v("yudao-module-infra")]),t._v(" æ¨¡å—çš„ "),s("a",{attrs:{href:"https://github.com/YunaiV/ruoyi-vue-pro/blob/master/yudao-module-infra/yudao-module-infra-biz/src/main/java/cn/iocoder/yudao/module/infra/framework/security/config/SecurityConfiguration.java",target:"_blank",rel:"noopener noreferrer"}},[t._v("SecurityConfiguration"),s("OutboundLink")],1),t._v(" ç±»ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Configuration")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("proxyBeanMethods "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infraSecurityConfiguration"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SecurityConfiguration")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"${spring.boot.admin.context-path:''}\"")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" adminSeverContextPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Bean")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"infraAuthorizeRequestsCustomizer"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizeRequestsCustomizer")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorizeRequestsCustomizer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizeRequestsCustomizer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n            "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("customize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizeHttpRequestsConfigurer")]),s("span",{pre:!0,attrs:{class:"token generics"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpSecurity")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("AuthorizationManagerRequestMatcherRegistry registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Swagger æ¥å£æ–‡æ¡£")]),t._v("\n                registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/v3/api-docs/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/swagger-ui.html"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/swagger-ui/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/swagger-resources/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/webjars/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/*/api-docs"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Spring Boot Actuator çš„å®‰å…¨é…ç½®")]),t._v("\n                registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/actuator"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/actuator/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Druid ç›‘æ§")]),t._v("\n                registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/druid/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Spring Boot Admin Server çš„å®‰å…¨é…ç½®")]),t._v("\n                registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("adminSeverContextPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("adminSeverContextPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–‡ä»¶è¯»å–")]),t._v("\n                registry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("requestMatchers")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("buildAdminApi")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/infra/file/*/get/**"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("permitAll")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("å‹æƒ…æç¤º")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("permitAll()")]),t._v(" æ–¹æ³•ï¼šæ‰€æœ‰ç”¨æˆ·å¯ä»¥ä»»æ„è®¿é—®ï¼ŒåŒ…æ‹¬å¸¦ä¸Š Token è®¿é—®")]),t._v(" "),s("li",[s("code",[t._v("anonymous()")]),t._v(" æ–¹æ³•ï¼šåŒ¿åç”¨æˆ·å¯ä»¥ä»»æ„è®¿é—®ï¼Œå¸¦ä¸Š Token è®¿é—®ä¼šæŠ¥é”™")])]),t._v(" "),s("p",[t._v("å¦‚æœä½ å¯¹ Spring Security äº†è§£ä¸å¤šï¼Œå¯ä»¥é˜…è¯»è‰¿è‰¿å†™çš„ "),s("a",{attrs:{href:"https://www.iocoder.cn/Spring-Boot/Spring-Security/?yudao",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€ŠèŠ‹é“ Spring Boot å®‰å…¨æ¡†æ¶ Spring Security å…¥é—¨ ã€‹"),s("OutboundLink")],1),t._v(" æ–‡ç« ã€‚")])]),t._v(" "),s("h3",{attrs:{id:"_4-2-æ–¹å¼äºŒ-permitall-æ³¨è§£"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-æ–¹å¼äºŒ-permitall-æ³¨è§£"}},[t._v("#")]),t._v(" 4.2 æ–¹å¼äºŒï¼š"),s("code",[t._v("@PermitAll")]),t._v(" æ³¨è§£")]),t._v(" "),s("p",[t._v("åœ¨ API æ¥å£ä¸Šæ·»åŠ  "),s("a",{attrs:{href:"https://javaee.github.io/javaee-spec/javadocs/javax/annotation/security/PermitAll.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("@PermitAll")]),s("OutboundLink")],1),t._v(" æ³¨è§£ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-Java extra-class"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// FileController.java")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GetMapping")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/{configId}/get/{path}"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PermitAll")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getFileContent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                           "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"configId"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" configId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                           "),s("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@PathVariable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Exception")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_4-3-æ–¹å¼ä¸‰-yudao-security-permit-all-urls-é…ç½®é¡¹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-æ–¹å¼ä¸‰-yudao-security-permit-all-urls-é…ç½®é¡¹"}},[t._v("#")]),t._v(" 4.3 æ–¹å¼ä¸‰ï¼š"),s("code",[t._v("yudao.security.permit-all-urls")]),t._v(" é…ç½®é¡¹")]),t._v(" "),s("p",[t._v("åœ¨ "),s("code",[t._v("application.yaml")]),t._v(" é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡ "),s("code",[t._v("yudao.security.permit-all-urls")]),t._v(" é…ç½®é¡¹è®¾ç½®ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-YAML extra-class"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("yudao")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("security")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("permit-all-urls")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /admin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("ui/"),s("span",{pre:!0,attrs:{class:"token important"}},[t._v("**")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# /resources/admin-ui ç›®å½•ä¸‹çš„é™æ€èµ„æº")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /admin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api/xxx/yyy\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);